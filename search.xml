<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æ‹“å±•è¿ç®—ç¬¦çš„ä½œç”¨</title>
    <url>/2019/%E6%8B%93%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E4%BD%9C%E7%94%A8/</url>
    <content><![CDATA[<p>â€¦ è¿ç®—ç¬¦ç”¨äºæ“ä½œæ•°ç»„ï¼Œæœ‰ä¸¤ç§ç”¨æ³•ï¼š</p>
<h2 id="1-å±•å¼€è¿ç®—ç¬¦-spread-operator"><a href="#1-å±•å¼€è¿ç®—ç¬¦-spread-operator" class="headerlink" title="1.å±•å¼€è¿ç®—ç¬¦(spread operator)"></a>1.å±•å¼€è¿ç®—ç¬¦(spread operator)</h2><ol>
<li><p>ä½œç”¨æ˜¯å’Œå­—é¢æ„æ€ä¸€æ ·ï¼Œå°±æ˜¯æŠŠä¸œè¥¿å±•å¼€ã€‚å¯ä»¥ç”¨åœ¨arrayå’Œobjectä¸Šéƒ½è¡Œã€‚<br>æ¯”å¦‚:</p>
<a id="more"></a>  

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">   <span class="keyword">let</span> b = [<span class="number">0</span>, ...a, <span class="number">4</span>]; <span class="comment">// [0,1,2,3,4] </span></span><br><span class="line">   <span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line">   <span class="keyword">let</span> obj2 = &#123; ...obj, <span class="attr">c</span>: <span class="number">3</span> &#125;; <span class="comment">// &#123; a:1, b:2, c:3 &#125;</span></span><br><span class="line"><span class="keyword">let</span> obj3 = &#123; ...obj, <span class="attr">a</span>: <span class="number">3</span> &#125;; <span class="comment">// &#123; a:3, b:2 &#125;</span></span><br></pre></td></tr></table></figure>

<p> ä¾¿æ·çš„æ•°ç»„åˆå¹¶<strong>(å±äºå±•å¼€è¿ç®—ç¬¦ç”¨æ³•)</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">let</span> arr1 = [<span class="string">'Aixi'</span>, <span class="string">'Bill'</span>];</span><br><span class="line">   <span class="keyword">let</span> arr2 = [<span class="string">'Cate'</span>];</span><br><span class="line">   <span class="keyword">let</span> arr3 = [...arr1, ...arr2];</span><br><span class="line"><span class="built_in">console</span>.log(arr3); <span class="comment">// ["Aixi", "Bill", "Cate"]</span></span><br></pre></td></tr></table></figure>

<p><strong>æ€»ç»“ï¼š</strong>ç”¨äºæŠŠ<strong>æ•°ç»„</strong>å±•å¼€æˆ<strong>å•ä¸ªçš„å…ƒç´ </strong>ã€‚</p>
</li>
<li><p><strong>æ›¿ä»£æ•°ç»„çš„ apply æ–¹æ³•</strong></p>
<p>ç”±äºæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å±•å¼€æ•°ç»„ï¼Œæ‰€ä»¥ä¸å†éœ€è¦applyæ–¹æ³•ï¼Œå°†æ•°ç»„è½¬ä¸ºå‡½æ•°çš„å‚æ•°äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES5 çš„å†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">f.apply(<span class="literal">null</span>, args);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 çš„å†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> args = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">f(...args);</span><br></pre></td></tr></table></figure>

<p><strong>å¤©ç„¶çš„è‡ªå¸¦æ•°ç»„è½¬å‚æ•°ã€‚</strong></p>
<p>ä¸‹é¢æ˜¯æ‰©å±•è¿ç®—ç¬¦å–ä»£applyæ–¹æ³•çš„ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œåº”ç”¨Math.maxæ–¹æ³•ï¼Œç®€åŒ–æ±‚å‡ºä¸€ä¸ªæ•°ç»„æœ€å¤§å…ƒç´ çš„å†™æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES5 çš„å†™æ³•</span></span><br><span class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</span><br><span class="line"><span class="comment">// ES6 çš„å†™æ³•</span></span><br><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</span><br><span class="line"><span class="comment">//  ç­‰åŒäº</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>);</span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>   å¦ä¸€ä¸ªä¾‹å­æ˜¯é€šè¿‡pushå‡½æ•°ï¼Œå°†ä¸€ä¸ªæ•°ç»„æ·»åŠ åˆ°å¦ä¸€ä¸ªæ•°ç»„çš„å°¾éƒ¨ã€‚</p>
   <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES5 çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr1, arr2);</span><br><span class="line"><span class="comment">// ES6 çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr1.push(...arr2);</span><br></pre></td></tr></table></figure>

<p>   ä¸Šé¢ä»£ç çš„ ES5 å†™æ³•ä¸­ï¼Œpushæ–¹æ³•çš„å‚æ•°ä¸èƒ½æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥åªå¥½é€šè¿‡applyæ–¹æ³•å˜é€šä½¿ç”¨pushæ–¹æ³•ã€‚æœ‰äº†æ‰©å±•è¿ç®—ç¬¦ï¼Œå°±å¯ä»¥ç›´æ¥å°†æ•°ç»„ä¼ å…¥pushæ–¹æ³•ã€‚</p>
<h2 id="2-å‰©ä½™æ“ä½œç¬¦-rest-operator"><a href="#2-å‰©ä½™æ“ä½œç¬¦-rest-operator" class="headerlink" title="2.å‰©ä½™æ“ä½œç¬¦(rest operator)"></a>2.å‰©ä½™æ“ä½œç¬¦(rest operator)</h2><p>è¿™æ˜¯è§£æ„çš„ä¸€ç§ï¼Œæ„æ€å°±æ˜¯æŠŠå‰©ä½™çš„ä¸œè¥¿æ”¾åˆ°ä¸€ä¸ªarrayé‡Œé¢èµ‹å€¼ç»™å®ƒã€‚ä¸€èˆ¬åªé’ˆå¯¹arrayçš„è§£æ„ï¼Œå…¶ä»–çš„æ²¡è§è¿‡ã€‚<br>æ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> [b, ...c] = a;</span><br><span class="line">b; <span class="comment">// 1</span></span><br><span class="line">c; <span class="comment">// [2,3]</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> [b, ...[c,d,e]] = a;</span><br><span class="line">b; <span class="comment">// 1</span></span><br><span class="line">c; <span class="comment">// 2</span></span><br><span class="line">d; <span class="comment">// 3</span></span><br><span class="line">e; <span class="comment">// undefined</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, ...rest</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">console</span>.log(rest); <span class="comment">// [2,3]</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ç±»ä¼¼çš„</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> &#123; x, y, ...z &#125; = array;</span><br><span class="line"><span class="comment">// å…¶ä¸­z=[3, 4, 5]ï¼Œæ³¨æ„å¦‚æœç”±äºarrayçš„lengthä¸è¶³ä»¥å®Œæˆææ„ï¼Œåˆ™ä¼šå¯¼è‡´zä¸º[]</span></span><br><span class="line">å¯¹è±¡ï¼š</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">name</span>: <span class="string">'zhangsan'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">city</span>: <span class="string">'shenzhen'</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> &#123;name, ...others&#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// 'zhangsan'</span></span><br><span class="line"><span class="built_in">console</span>.log(others); <span class="comment">// &#123;age: 30, city: 'shenzhen'&#125;</span></span><br></pre></td></tr></table></figure>

<p> å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ï¼Œ å¯ä»¥ç§°ä¹‹ä¸ºå¯¹è±¡æ··åˆ:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> object = &#123;</span><br><span class="line">  a: <span class="string">'01'</span>, </span><br><span class="line">  b: <span class="string">'02'</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> newObject = &#123;</span><br><span class="line">  c: <span class="string">'03'</span>,</span><br><span class="line">  ...object</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(newObject); <span class="comment">//&#123;c: "03", a: "01", b: "02"&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"><a href="#3-æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨" class="headerlink" title="3.æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨"></a>3.æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨</h2><h3 id="1-åˆå¹¶æ•°ç»„"><a href="#1-åˆå¹¶æ•°ç»„" class="headerlink" title="1.åˆå¹¶æ•°ç»„"></a>1.åˆå¹¶æ•°ç»„</h3><p>æ‰©å±•è¿ç®—ç¬¦æä¾›äº†æ•°ç»„åˆå¹¶çš„æ–°å†™æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>].concat(more)</span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, ...more]</span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">'a'</span>, <span class="string">'b'</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> arr3 = [<span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="comment">// ES5 çš„åˆå¹¶æ•°ç»„</span></span><br><span class="line">arr1.concat(arr2, arr3);</span><br><span class="line"><span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br><span class="line"><span class="comment">// ES6 çš„åˆå¹¶æ•°ç»„</span></span><br><span class="line">[...arr1, ...arr2, ...arr3]</span><br><span class="line"><span class="comment">// [ 'a', 'b', 'c', 'd', 'e' ]</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>concatå¹¶ä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„å€¼ï¼Œæ‰€ä»¥ä¸¤ç§æ–¹æ³•éƒ½éœ€è¦å¦å£°æ˜æ–°å€¼ï¼Œæ²¡æœ‰å†…å­˜å¢åŠ æƒ…å†µã€‚</p>
<h3 id="2-ä¸è§£æ„èµ‹å€¼ç»“åˆ"><a href="#2-ä¸è§£æ„èµ‹å€¼ç»“åˆ" class="headerlink" title="2.ä¸è§£æ„èµ‹å€¼ç»“åˆ"></a>2.ä¸è§£æ„èµ‹å€¼ç»“åˆ</h3><p>æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä¸è§£æ„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºç”Ÿæˆæ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line">a = list[<span class="number">0</span>], rest = list.slice(<span class="number">1</span>)</span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line">[a, ...rest] = list</span><br><span class="line">ä¸‹é¢æ˜¯å¦å¤–ä¸€äº›ä¾‹å­ã€‚</span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">first <span class="comment">// 1</span></span><br><span class="line">rest <span class="comment">// [2, 3, 4, 5]</span></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [];</span><br><span class="line">first <span class="comment">// undefined</span></span><br><span class="line">rest <span class="comment">// []:</span></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="string">"foo"</span>];</span><br><span class="line">first <span class="comment">// "foo"</span></span><br><span class="line">rest <span class="comment">// []</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œ<strong>åªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½</strong>ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚å¹¶ä¸”å…¶ç±»å‹ä¸€ç›´æ˜¯<strong>æ•°ç»„</strong>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> [...butLast, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];<span class="comment">//  æŠ¥é”™const </span></span><br><span class="line">[first, ...middle, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];<span class="comment">//  æŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<h3 id="3-å‡½æ•°çš„è¿”å›å€¼"><a href="#3-å‡½æ•°çš„è¿”å›å€¼" class="headerlink" title="3.å‡½æ•°çš„è¿”å›å€¼"></a>3.å‡½æ•°çš„è¿”å›å€¼</h3><p>JavaScript çš„å‡½æ•°åªèƒ½è¿”å›ä¸€ä¸ªå€¼ï¼Œå¦‚æœéœ€è¦è¿”å›å¤šä¸ªå€¼ï¼Œåªèƒ½è¿”å›æ•°ç»„æˆ–å¯¹è±¡ã€‚æ‰©å±•è¿ç®—ç¬¦æä¾›äº†è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dateFields = readDateFields(database);</span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>(...dateFields);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä»æ•°æ®åº“å–å‡ºä¸€è¡Œæ•°æ®ï¼Œé€šè¿‡æ‰©å±•è¿ç®—ç¬¦ï¼Œç›´æ¥å°†å…¶ä¼ å…¥æ„é€ å‡½æ•°Dateã€‚</p>
<h3 id="4-å­—ç¬¦ä¸²"><a href="#4-å­—ç¬¦ä¸²" class="headerlink" title="4.å­—ç¬¦ä¸²"></a>4.å­—ç¬¦ä¸²</h3><p>æ‰©å±•è¿ç®—ç¬¦è¿˜å¯ä»¥å°†å­—ç¬¦ä¸²è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">[...<span class="string">'hello'</span>]<span class="comment">// [ "h", "e", "l", "l", "o" ]</span></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="string">'hello'</span>.split(<span class="string">""</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„å†™æ³•ï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„å¥½å¤„ï¼Œé‚£å°±æ˜¯èƒ½å¤Ÿæ­£ç¡®è¯†åˆ« 32 ä½çš„ Unicode å­—ç¬¦ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">'x\uD83D\uDE80y'</span>.length <span class="comment">// 4 ï¼ˆxğŸš€yï¼‰</span></span><br><span class="line">[...<span class="string">'x\uD83D\uDE80y'</span>].length <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç çš„ç¬¬ä¸€ç§å†™æ³•ï¼Œ JavaScript ä¼šå°† 32 ä½ Unicode å­—ç¬¦ï¼Œè¯†åˆ«ä¸º 2 ä¸ªå­—ç¬¦ï¼Œé‡‡ç”¨æ‰©å±•è¿ç®—ç¬¦å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæ­£ç¡®è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">length</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> [...str].length;</span><br><span class="line">&#125;</span><br><span class="line">length(<span class="string">'x\uD83D\uDE80y'</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p>å‡¡æ˜¯æ¶‰åŠåˆ°æ“ä½œ 32 ä½ Unicode å­—ç¬¦çš„å‡½æ•°ï¼Œéƒ½æœ‰è¿™ä¸ªé—®é¢˜ã€‚å› æ­¤ï¼Œæœ€å¥½éƒ½ç”¨æ‰©å±•è¿ç®—ç¬¦æ”¹å†™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'x\uD83D\uDE80y'</span>;</span><br><span class="line">str.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>)</span><br><span class="line"><span class="comment">// 'y\uDE80\uD83Dx'</span></span><br><span class="line">[...str].reverse().join(<span class="string">''</span>)</span><br><span class="line"><span class="comment">// 'y\uD83D\uDE80x'</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œå­—ç¬¦ä¸²çš„reverseæ“ä½œå°±ä¸æ­£ç¡®ã€‚<code>\uDE80\uD83D</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œä¸åº”è¯¥åˆ†å¼€æ¥å€’è½¬çš„ã€‚</p>
<h3 id="5-å®ç°äº†-Iterator-æ¥å£çš„å¯¹è±¡"><a href="#5-å®ç°äº†-Iterator-æ¥å£çš„å¯¹è±¡" class="headerlink" title="5.å®ç°äº† Iterator æ¥å£çš„å¯¹è±¡"></a>5.å®ç°äº† Iterator æ¥å£çš„å¯¹è±¡</h3><p>ä»»ä½• Iterator æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<p><a href="./2.Iteratorå’Œfor...inå¾ªç¯.md">ç‚¹å‡»æŸ¥çœ‹å…³äºIterator</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> nodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span><br><span class="line"><span class="keyword">var</span> array = [...nodeList];</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒquerySelectorAllæ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªnodeListå¯¹è±¡ã€‚å®ƒä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚è¿™æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦å¯ä»¥å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼ŒåŸå› å°±åœ¨äºNodeListå¯¹è±¡å®ç°äº† Iterator æ¥å£ã€‚</p>
<p>å¯¹äºé‚£äº›æ²¡æœ‰éƒ¨ç½² Iterator æ¥å£çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±æ— æ³•å°†å…¶è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike = &#123;</span><br><span class="line">    <span class="string">'0'</span>: <span class="string">'a'</span>,</span><br><span class="line">    <span class="string">'1'</span>: <span class="string">'b'</span>,</span><br><span class="line">    <span class="string">'2'</span>: <span class="string">'c'</span>,</span><br><span class="line">    length: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// TypeError: Cannot spread non-iterable object.</span></span><br><span class="line"><span class="keyword">let</span> arr = [...arrayLike];</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼ŒarrayLikeæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œä½†æ˜¯æ²¡æœ‰éƒ¨ç½² Iterator æ¥å£ï¼Œæ‰©å±•è¿ç®—ç¬¦å°±ä¼šæŠ¥é”™ã€‚è¿™æ—¶ï¼Œå¯ä»¥æ”¹ä¸ºä½¿ç”¨Array.fromæ–¹æ³•å°†arrayLikeè½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<p><strong>ï¼ˆæ™®é€šå¯¹è±¡éƒ½æ²¡æœ‰Symbol.iteratorå±æ€§ï¼Œæ‰€ä»¥æ— æ³•éå†ï¼‰</strong></p>
<h3 id="6-Map-å’Œ-Set-ç»“æ„ï¼Œ-Generator-å‡½æ•°"><a href="#6-Map-å’Œ-Set-ç»“æ„ï¼Œ-Generator-å‡½æ•°" class="headerlink" title="6. Map å’Œ Set ç»“æ„ï¼Œ Generator å‡½æ•°"></a>6. Map å’Œ Set ç»“æ„ï¼Œ Generator å‡½æ•°</h3><p>æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æ„çš„ <strong>Iterator *<em>æ¥å£ï¼Œå› æ­¤åªè¦å…·æœ‰ *</em>Iterator</strong> æ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ Map ç»“æ„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">    [<span class="number">1</span>, <span class="string">'one'</span>],</span><br><span class="line">    [<span class="number">2</span>, <span class="string">'two'</span>],</span><br><span class="line">    [<span class="number">3</span>, <span class="string">'three'</span>],</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">let</span> arr = [...map.keys()]; <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<p>Generator å‡½æ•°è¿è¡Œåï¼Œè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> go = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line">[...go()] <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡goæ˜¯ä¸€ä¸ª Generator å‡½æ•°ï¼Œæ‰§è¡Œåè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå¯¹è¿™ä¸ªéå†å™¨å¯¹è±¡æ‰§è¡Œæ‰©å±•è¿ç®—ç¬¦ï¼Œå°±ä¼šå°†å†…éƒ¨éå†å¾—åˆ°çš„å€¼ï¼Œè½¬ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> arr = [...obj]; <span class="comment">// TypeError: Cannot spread non-iterable object</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„Arrayæ–¹æ³•æ€»ç»“</title>
    <url>/2019/%E6%95%B0%E7%BB%84Array%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h3 id="5-1-Objectç±»å‹"><a href="#5-1-Objectç±»å‹" class="headerlink" title="5.1 Objectç±»å‹"></a>5.1 Objectç±»å‹</h3><h4 id="1-å¯¹è±¡å±æ€§è®¿é—®"><a href="#1-å¯¹è±¡å±æ€§è®¿é—®" class="headerlink" title="1. å¯¹è±¡å±æ€§è®¿é—®"></a>1. å¯¹è±¡å±æ€§è®¿é—®</h4><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯¹è±¡å±æ€§è®¿é—®éƒ½æ˜¯ç‚¹è¡¨ç¤ºæ³•ã€‚</p>
<p>è¿˜ä¸€ç§æ–¹æ³•ï¼Œæ–¹æ‹¬å·è¡¨ç¤ºæ³• []ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">person.name = person[<span class="string">'name'</span>]</span><br></pre></td></tr></table></figure>

<p>å½“å±æ€§åè¿˜æœ‰ç©ºæ ¼æ—¶ï¼Œæˆ–è€…ä½¿ç”¨å­—ç¬¦ä¸²å˜é‡æ—¶ï¼Œæ–¹æ‹¬å·è¡¨ç¤ºæ³•æœ‰å¤§ä½œç”¨ã€‚</p>
<a id="more"></a>  

<h3 id="5-2-Array"><a href="#5-2-Array" class="headerlink" title="5.2 Array"></a>5.2 Array</h3><h4 id="1-å®šä¹‰æ–¹æ³•"><a href="#1-å®šä¹‰æ–¹æ³•" class="headerlink" title="1. å®šä¹‰æ–¹æ³•"></a>1. å®šä¹‰æ–¹æ³•</h4><ol>
<li><p>ä½¿ç”¨Arrayæ„é€ å‡½æ•°</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>() <span class="comment">//åˆ›å»ºç©ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">20</span>)  <span class="comment">//åˆ›å»ºä¸€ä¸ªåŒ…å«20ä¸ªå…ƒç´ çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">//ï¼ˆæ³¨æ„ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'red'</span>) <span class="comment">//åˆ›å»ºåŒ…å«ä¸€ä¸ªé¡¹redçš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">2</span>) <span class="comment">//åˆ›å»ºåŒ…å«ä¸¤ä¸ªé¡¹çš„æ•°ç»„ï¼Œé¡¹å†…å®¹ä¸ºç©ºã€‚åŒºåˆ«å‰è€…ã€‚</span></span><br><span class="line"><span class="comment">//å¯ä»¥çœç•¥newï¼Œç›´æ¥var arr = Array('red')</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—é¢é‡æ„é€ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var arr = []</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="2-lengthå±æ€§"><a href="#2-lengthå±æ€§" class="headerlink" title="2. lengthå±æ€§"></a>2. lengthå±æ€§</h4><p>æ•°ç»„çš„lengthå±æ€§ä¸æ˜¯åªè¯»çš„ï¼Œä»–è¿˜æ˜¯å¯å†™çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = [<span class="string">'red'</span>,<span class="string">'blue'</span>,<span class="string">'green'</span>];</span><br><span class="line">colors.length = <span class="number">2</span>;</span><br><span class="line"><span class="built_in">console</span>.log(color[<span class="number">2</span>]); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure>

<p>å°†lengthå±æ€§æ‰‹åŠ¨è®¾ç½®ä¸ºæ¯”æ•°ç»„å°æ—¶ï¼Œè¶Šç•Œçš„é¡¹ä¼šå˜æˆundefinedã€‚</p>
<p>è€Œå¦‚æœå°†lengthè®¾ç½®æˆæ¯”æ•°ç»„ä¸ªæ•°å¤§ï¼Œå¤šä½™çš„é¡¹ä¹Ÿä¼šè¢«è®¾ç½®ä¸ºundefinedã€‚</p>
<p><strong>å¥‡æ·«æŠ€å·§</strong>ï¼šæ·»åŠ æ–°çš„æ•°ç»„é¡¹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">colors.[colors.length] = <span class="string">'black'</span></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæ•°ç»„çš„æœ€åä¸€é¡¹æ˜¯length-1.</p>
<h4 id="3-æ•°ç»„æ–¹æ³•"><a href="#3-æ•°ç»„æ–¹æ³•" class="headerlink" title="3. æ•°ç»„æ–¹æ³•"></a>3. æ•°ç»„æ–¹æ³•</h4><h5 id="3-1-æ£€æµ‹æ•°ç»„"><a href="#3-1-æ£€æµ‹æ•°ç»„" class="headerlink" title="3.1 æ£€æµ‹æ•°ç»„"></a>3.1 æ£€æµ‹æ•°ç»„</h5><p>æ–°å¢<strong>Array.isArrayï¼ˆï¼‰</strong>æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = []</span><br><span class="line"><span class="built_in">Array</span>.isArray(arr) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h5 id="3-2-è½¬æ¢æ–¹æ³•"><a href="#3-2-è½¬æ¢æ–¹æ³•" class="headerlink" title="3.2 è½¬æ¢æ–¹æ³•"></a>3.2 è½¬æ¢æ–¹æ³•</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr = [<span class="string">'red'</span>,<span class="string">'blue'</span>,<span class="string">'green'</span>];</span><br><span class="line">alert(colors.toString()); <span class="comment">//è¿”å›å­—ç¬¦ä¸²ï¼Œç”¨é€—å·è¿æ¥ã€‚"red,blue,green"</span></span><br><span class="line">alert(colors.valueOf());  <span class="comment">//è¿”å›è‡ªèº«ï¼ˆæ•°ç»„ï¼‰ï¼Œ['red','blue','green']</span></span><br></pre></td></tr></table></figure>

<p>toString()æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªå®ç°æ–¹æ³•â€”â€”joinå‡½æ•°ã€‚joinå‡½æ•°è¿”å›å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr = [<span class="string">'red'</span>,<span class="string">'blue'</span>,<span class="string">'green'</span>];</span><br><span class="line">arr.join(<span class="string">','</span>); <span class="comment">//"red,blue,green"ï¼Œä¸ä¼ å‚æ—¶ï¼Œé»˜è®¤ç”¨é€—å·åˆ†éš”</span></span><br><span class="line">arr.join(<span class="string">'|'</span>); <span class="comment">//"red|blue|green"</span></span><br></pre></td></tr></table></figure>

<p>#####3.3 æ ˆä¸é˜Ÿåˆ—æ–¹æ³•</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ä½œç”¨</th>
<th>è¿”å›å€¼</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>pushï¼ˆå…¥æ ˆï¼‰</td>
<td>å°†å‚æ•°é€ä¸ªæ·»åŠ åˆ°æ•°ç»„æœ«å°¾</td>
<td>ä¿®æ”¹åçš„æ•°ç»„é•¿åº¦</td>
<td>å‚æ•°1-*</td>
</tr>
<tr>
<td>popï¼ˆå‡ºæ ˆï¼‰</td>
<td>ä»æ•°ç»„æœ«å°¾ç§»é™¤ä¸€é¡¹</td>
<td>ç§»é™¤çš„é¡¹</td>
<td>æ— å‚</td>
</tr>
<tr>
<td>shiftï¼ˆå‡ºåˆ—ï¼‰</td>
<td>ä»æ•°ç»„å¤´éƒ¨ç§»é™¤ä¸€é¡¹</td>
<td>ç§»é™¤çš„é¡¹</td>
<td></td>
</tr>
<tr>
<td>unshiftï¼ˆå…¥åˆ—ï¼‰</td>
<td>ä»æ•°ç»„å¤´éƒ¨æ·»åŠ é¡¹</td>
<td>ä¿®æ”¹åçš„æ•°ç»„é•¿åº¦</td>
<td>å‚æ•°1-*</td>
</tr>
</tbody></table>
<p>pushå’Œshiftæ¨¡æ‹Ÿé˜Ÿåˆ—ï¼Œunshiftå’Œpopæ¨¡æ‹Ÿåå‘é˜Ÿåˆ—ã€‚</p>
<p><strong>æ³¨æ„ï¼šä»¥ä¸Šæ–¹æ³•éƒ½ä¼šæ”¹å˜åŸæ•°ç»„</strong></p>
<h5 id="3-4-æ’åºæ–¹æ³•"><a href="#3-4-æ’åºæ–¹æ³•" class="headerlink" title="3.4 æ’åºæ–¹æ³•"></a>3.4 æ’åºæ–¹æ³•</h5><ol>
<li><p>reverse<br>ç¿»è½¬æ•°ç»„ï¼Œè¿”å›ç¿»è½¬åçš„æ•°ç»„ã€‚</p>
</li>
<li><p>sort</p>
<p>è¿”å›æ’åºçš„åçš„æ•°ç»„ã€‚ä½†æ˜¯æ˜¯æŒ‰å­—ç¬¦ä¸²è¿›è¡Œæ’åºçš„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">150</span>,<span class="number">15</span>]</span><br><span class="line">arr.sort() <span class="comment">//0,1,10,15,5</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>è¦ä½¿ç”¨æ•°å€¼è¿›è¡Œæ’åˆ—çš„è¯ï¼Œåˆ™éœ€è¦ä¼ å…¥å‡½æ•°ã€‚å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1,value2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value1 &lt; value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(value1 &gt; value2)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">arr.sort(compare); <span class="comment">// 0,1,5,10,15</span></span><br><span class="line">(æ›´ç®€ä¾¿çš„æ–¹æ³•æ˜¯)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">value1,value2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value1 - value2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼š<strong>ä¼šæ”¹å˜åŸæ•°ç»„ï¼</strong></p>
<h5 id="3-5-æ“ä½œæ–¹æ³•"><a href="#3-5-æ“ä½œæ–¹æ³•" class="headerlink" title="3.5 æ“ä½œæ–¹æ³•"></a>3.5 æ“ä½œæ–¹æ³•</h5><ol>
<li><p>concatï¼ˆæ‹¼æ¥ï¼‰</p>
<p>åŸºäºå½“å‰æ•°ç»„ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¹¶è¿”å›æ–°åˆ›å»ºçš„æ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr.concat(<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>]); <span class="comment">//[1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°æ˜¯å­—ç¬¦ä¸²è¿˜æ˜¯æ•°ç»„ï¼Œéƒ½æ˜¯ç›´æ¥å¾€é‡Œé¢æ‹¼æ¥å…ƒç´ ï¼Œæ²¡æœ‰å·®åˆ«ã€‚</strong></p>
</li>
</ol>
<ol start="2">
<li><p>sliceï¼ˆåˆ‡å‰²ï¼‰</p>
<p>åŸºäºå½“å‰æ•°ç»„çš„ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚<strong>å‚æ•°ä¸ºä¸€ä¸ªæˆ–è€…2ä¸ªã€‚</strong></p>
<p><strong>ï¼ˆå½“å‚æ•°ä¸ºç©ºæ—¶ï¼Œè¿”å›æ•°ç»„æœ¬èº«ï¼‰*</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">colors.slice(<span class="number">1</span>); <span class="comment">//[2,3,4,5,6]</span></span><br><span class="line">colors.slice(<span class="number">1</span>,<span class="number">4</span>) <span class="comment">//[2,3,4](å·¦é—­å³å¼€)</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>å‚æ•°å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œ-1å³ä¸ºæœ€åä¸€ä¸ªã€‚å¦‚æœç»“æŸä½ç½®å°äºèµ·å§‹ä½ç½®ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚</p>
</li>
</ol>
<ol start="3">
<li><p>spliceï¼ˆæœ€å¼ºå¤§ï¼‰</p>
<p>ä¸»è¦ç”¨é€”æ˜¯å‘æ•°ç»„çš„ä¸­éƒ¨æ’å…¥é¡¹ã€‚</p>
<blockquote>
<ol>
<li>åˆ é™¤ï¼šspliceï¼ˆa,b)ï¼Œaï¼šè¦åˆ é™¤çš„ç¬¬ä¸€é¡¹çš„ä½ç½®ï¼›bï¼šè¦åˆ é™¤çš„é¡¹æ•°ã€‚</li>
<li>æ’å…¥ï¼šspliceï¼ˆa,b,câ€¦)ï¼Œaï¼šèµ·å§‹ä½ç½®ï¼›b:è¦åˆ é™¤çš„é¡¹æ•°ï¼›cï¼šæ’å…¥çš„é¡¹</li>
<li>æ›¿æ¢ï¼šspliceï¼ˆa,b,câ€¦)ï¼Œaï¼šèµ·å§‹ä½ç½®ï¼›b:è¦åˆ é™¤çš„é¡¹æ•°ï¼›cï¼šæ’å…¥çš„é¡¹</li>
</ol>
</blockquote>
</li>
</ol>
<p>spliceå§‹ç»ˆè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸ºåˆ é™¤çš„é¡¹çš„é›†åˆã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'red'</span>,<span class="string">'blue'</span>,<span class="string">'green'</span>];</span><br><span class="line">arr.splice(<span class="number">0</span>,<span class="number">1</span>); <span class="comment">//è¿”å›[red]ï¼›</span></span><br><span class="line">alert(arr); <span class="comment">//[blue','green'],arræ•°ç»„è¢«ä¿®æ”¹</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'red'</span>,<span class="string">'blue'</span>,<span class="string">'green'</span>];</span><br><span class="line">arr.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="string">'yellow'</span>,<span class="string">'orange'</span>); <span class="comment">//è¿”å›[]</span></span><br><span class="line">alert(arr); <span class="comment">// ['red','yellow','orange','blue','green']</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'red'</span>,<span class="string">'blue'</span>,<span class="string">'green'</span>];</span><br><span class="line">arr.splice(<span class="number">1</span>,<span class="number">1</span>,<span class="string">'yellow'</span>,<span class="string">'orange'</span>); <span class="comment">//è¿”å›['blue']</span></span><br><span class="line">alert(arr); <span class="comment">// ['red','yellow','orange','green'],blueè¢«åˆ äº†</span></span><br></pre></td></tr></table></figure>

<h5 id="3-6-ä½ç½®æ–¹æ³•"><a href="#3-6-ä½ç½®æ–¹æ³•" class="headerlink" title="3.6 ä½ç½®æ–¹æ³•"></a>3.6 ä½ç½®æ–¹æ³•</h5><ul>
<li>indexOfï¼ŒlastindexOf</li>
</ul>
<p>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼ŒindexOfï¼ˆaï¼Œbï¼‰ï¼šè¦æŸ¥æ‰¾çš„é¡¹å’Œè¡¨ç¤ºæŸ¥æ‰¾èµ·ç‚¹ä½ç½®çš„ç´¢å¼•ï¼ˆå¯é€‰ï¼‰ã€‚</p>
<p>æŸ¥æ‰¾æ—¶æ¯”è¾ƒä¸¤ä¸ªé¡¹ï¼Œä½¿ç”¨çš„æ˜¯å…¨ç­‰ï¼ˆ===ï¼‰ã€‚</p>
<p>ä¸¤ä¸ªæ–¹æ³•è¿”å›çš„éƒ½æ˜¯è¦æŸ¥æ‰¾çš„é¡¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œè‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å›-1ã€‚</p>
<p>lastindexOfä»åé¢å¾€å‰æ‰¾ã€‚</p>
<h5 id="3-7-è¿­ä»£æ–¹æ³•"><a href="#3-7-è¿­ä»£æ–¹æ³•" class="headerlink" title="3.7 è¿­ä»£æ–¹æ³•"></a>3.7 è¿­ä»£æ–¹æ³•</h5><p>æœ‰5ä¸ªè¿­ä»£æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šæ¯ä¸€é¡¹ä¸Šè¿è¡Œçš„å‡½æ•°å’Œï¼ˆå¯é€‰çš„ï¼‰è¿è¡Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸå¯¹è±¡â€”â€”å½±å“thisçš„å€¼ã€‚</p>
<p>ä¼ å…¥çš„è¿™äº›æ–¹æ³•ä¸­çš„å‡½æ•°éƒ½ä¼šæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š1.æ•°ç»„é¡¹çš„å€¼ 2.è¯¥é¡¹åœ¨æ•°ç»„çš„ä¸­çš„ä½ç½® 3.æ•°ç»„å¯¹è±¡æœ¬èº«ã€‚<strong>å‡½æ•°å‚æ•°å¯ä»¥çœç•¥ä¸€äº›ã€‚</strong></p>
<ol>
<li><p>everyï¼ˆï¼‰<br>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœæ¯ä¸€é¡¹éƒ½trueï¼Œåˆ™è¿”å›<strong>true</strong>ã€‚</p>
</li>
<li><p>someï¼ˆï¼‰</p>
<p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€é¡¹ä¸ºtrueï¼Œåˆ™è¿”å›<strong>true</strong>ã€‚</p>
 <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.every(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>)</span><br><span class="line">&#125;) <span class="comment">//fasle</span></span><br><span class="line"></span><br><span class="line">arr.soome(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>)</span><br><span class="line">&#125;) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>filter()</p>
<p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°è¿”å›trueçš„é¡¹ç»„æˆçš„æ•°ç»„ã€‚</p>
 <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>)</span><br><span class="line">&#125;) <span class="comment">//[3,4,5,6]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>forEach()</p>
<p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span>(item &gt; <span class="number">2</span>)</span><br><span class="line">&#125;) <span class="comment">//[3,4,5,6]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>map()</p>
<p>å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„ã€‚</p>
 <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">item, index, array</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//æ‰§è¡Œæ“ä½œï¼Œå¦‚console.log</span></span><br><span class="line">&#125;) <span class="comment">//æ— è¿”å›å€¼</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="3-5-å½’å¹¶æ–¹æ³•"><a href="#3-5-å½’å¹¶æ–¹æ³•" class="headerlink" title="3.5 å½’å¹¶æ–¹æ³•"></a>3.5 å½’å¹¶æ–¹æ³•</h5><p>reduceå’ŒreduceRightï¼Œå·¦è¾¹å’Œå³è¾¹çš„åŒºåˆ«ã€‚</p>
<p>æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šåœ¨æ¯ä¸€é¡¹è¿è¡Œçš„å‡½æ•°ï¼Œå’Œï¼ˆå¯é€‰çš„ï¼‰ä½œä¸ºå½’å¹¶åŸºç¡€çš„åˆå§‹å€¼ã€‚å‡½æ•°æœ‰4ä¸ªå‚æ•°ï¼šå‰ä¸€ä¸ªå€¼ã€å½“å‰å€¼ã€é¡¹çš„ç´¢å¼•å€¼å’Œæ•°ç»„å¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°è¿”å›çš„ä»»æ„å€¼éƒ½ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä¸‹ä¸€é¡¹ã€‚ä¾‹å­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> values = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> sum = values.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev,cur,index,array</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'index='</span>,index,<span class="string">'prev='</span>,prev,<span class="string">'cur='</span>,cur);</span><br><span class="line">    <span class="keyword">return</span> prev + cur; <span class="comment">//å¦‚æœæ²¡æœ‰returnï¼Œåˆ™prevä¸ºundefined</span></span><br><span class="line">&#125;)</span><br><span class="line">alert(sum); <span class="comment">//15</span></span><br><span class="line">index= <span class="number">1</span> prev= <span class="number">1</span>  cur= <span class="number">2</span></span><br><span class="line">index= <span class="number">2</span> prev= <span class="number">3</span>  cur= <span class="number">3</span></span><br><span class="line">index= <span class="number">3</span> prev= <span class="number">6</span>  cur= <span class="number">4</span></span><br><span class="line">index= <span class="number">4</span> prev= <span class="number">10</span> cur= <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¾‹å­å¯çŸ¥ï¼š</p>
<ol>
<li>ç¬¬ä¸€æ¬¡è¿­ä»£å‘ç”Ÿåœ¨ç¬¬äºŒä¸ªæ•°ç»„ä¸Šï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°ç»„ç¬¬ä¸€é¡¹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ•°ç»„ç¬¬äºŒé¡¹ã€‚</li>
<li>prevéœ€è¦æ‰‹åŠ¨è¿”å›ï¼Œå¦‚æœæ²¡æœ‰è¿”å›ï¼Œé™¤äº†ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶æ˜¯ç¬¬ä¸€é¡¹ï¼Œåé¢çš„prevä¸ºundefinedã€‚</li>
</ol>
<h5 id="3-6-æ€»ç»“ï¼š"><a href="#3-6-æ€»ç»“ï¼š" class="headerlink" title="3.6 æ€»ç»“ï¼š"></a>3.6 æ€»ç»“ï¼š</h5><table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th></th>
<th>è¿”å›å€¼</th>
<th>åŸæ•°ç»„æ”¹å˜?</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>pop</td>
<td>ä¸éœ€è¦å‚æ•°</td>
<td>ç§»é™¤çš„é¡¹</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td>push</td>
<td>0åˆ°å¤šä¸ªé¡¹</td>
<td>æ•°ç»„é•¿åº¦</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td>shift</td>
<td>ä¸éœ€è¦å‚æ•°</td>
<td>ç§»é™¤çš„é¡¹</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td>unshift</td>
<td>(â€˜redâ€™,â€™greenâ€™,â€¦)</td>
<td>æ•°ç»„é•¿åº¦</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>reverse</td>
<td>(),æ— å‚æ•°</td>
<td>æ”¹å˜çš„åŸæ•°ç»„</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td>sort</td>
<td>(),æ— å‚æ•°</td>
<td>æ”¹å˜çš„åŸæ•°ç»„</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>concat</td>
<td>(â€˜redâ€™,[..]â€¦)</td>
<td>æ–°æ•°ç»„</td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td>slice</td>
<td>(0,1)</td>
<td>æ–°æ•°ç»„</td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td>splice</td>
<td>(1,0,â€™redâ€™)</td>
<td>æ•°ç»„(è¢«åˆ é™¤çš„é¡¹)</td>
<td>æ˜¯</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>indexOf</td>
<td>(4,4)</td>
<td>ä¸‹æ ‡</td>
<td>å¦</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>every</td>
<td>(item,index,array)</td>
<td>å¸ƒå°”</td>
<td>ä¸æ”¹å˜</td>
<td></td>
</tr>
<tr>
<td>filter</td>
<td>(item,index,array)</td>
<td>æ•°ç»„</td>
<td>ä¸æ”¹å˜</td>
<td></td>
</tr>
<tr>
<td>forEach</td>
<td>(item,index,array)</td>
<td>æ— è¿”å›å€¼</td>
<td>ä¸æ”¹å˜</td>
<td></td>
</tr>
<tr>
<td>map</td>
<td>(item,index,array)</td>
<td>æ•°ç»„</td>
<td>ä¸æ”¹å˜</td>
<td></td>
</tr>
<tr>
<td>some</td>
<td>(item,index,array)</td>
<td>å¸ƒå°”</td>
<td>ä¸æ”¹å˜</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>reduce</td>
<td>(prev,cur,index,array)</td>
<td>çœ‹å‡½æ•°çš„return</td>
<td>ä¸æ”¹å˜</td>
<td></td>
</tr>
</tbody></table>
<p><strong>å¤‡æ³¨</strong>ï¼š</p>
<ol>
<li>slice()æˆ–slice(0)ï¼Œå¯ä»¥ç”¨ç”¨æ¥å¤åˆ¶æ•°ç»„ã€‚æˆ–è€…ä½¿ç”¨concat( è¦å¤åˆ¶çš„æ•°ç»„)ã€‚</li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å°çº¢ä¹¦</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoåšå®¢å‘å¸ƒ</title>
    <url>/2019/hexo%E5%8D%9A%E5%AE%A2%E5%8F%91%E5%B8%83/</url>
    <content><![CDATA[<h3 id="1-ç¼–å†™mdæ–‡æ¡£"><a href="#1-ç¼–å†™mdæ–‡æ¡£" class="headerlink" title="1. ç¼–å†™mdæ–‡æ¡£"></a>1. ç¼–å†™mdæ–‡æ¡£</h3><p> åœ¨ hexo\scaffolds\post ä¸‹å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ç¼–å†™mdæ–‡æ¡£</p>
<p> æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: æ–‡ç« æ ‡é¢˜</span><br><span class="line">categories: åˆ†ç±»å</span><br><span class="line">tags: 	</span><br><span class="line">	- æ ‡ç­¾1	</span><br><span class="line">	- æ ‡ç­¾2</span><br><span class="line">---</span><br><span class="line">å†…å®¹......</span><br><span class="line">&lt;!-- more --&gt;   // æˆªæ­¢æ˜¾ç¤ºè‡³æ­¤ï¼Œå¹¶è§£ææˆâ€˜é˜…è¯»å…¨æ–‡â€™æŒ‰é’®</span><br><span class="line">å†…å®¹......</span><br></pre></td></tr></table></figure>

<a id="more"></a>  

<h3 id="2-ä¸Šä¼ åšæ–‡"><a href="#2-ä¸Šä¼ åšæ–‡" class="headerlink" title="2. ä¸Šä¼ åšæ–‡"></a>2. ä¸Šä¼ åšæ–‡</h3><p>åˆ›å»ºæ–°åšå®¢ï¼š<code>hexo new &quot;my-second-blog&quot;</code></p>
<p>éƒ¨ç½²åšå®¢ï¼š <code>hexo g</code></p>
<p>ä¸Šä¼ åšå®¢åˆ°githubï¼š <code>hexo d</code></p>
<p>æœ¬åœ°æŸ¥çœ‹åšå®¢ï¼š <code>hexo s</code></p>
<p>ä¸€èˆ¬æ­¥éª¤ä¸ºï¼š <code>hexo s -g</code></p>
<p>æ¸…é™¤ï¼š <code>hexo clean</code></p>
]]></content>
      <categories>
        <category>éšç¬”ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯¦è§£toStringå’ŒvalueOf</title>
    <url>/2019/%E8%AF%A6%E8%A7%A3toString%E5%92%8CvalueOf/</url>
    <content><![CDATA[<h2 id="1-toString"><a href="#1-toString" class="headerlink" title="1.toString"></a>1.toString</h2><h3 id="1-ä½¿ç”¨å®šä¹‰"><a href="#1-ä½¿ç”¨å®šä¹‰" class="headerlink" title="1.ä½¿ç”¨å®šä¹‰"></a>1.ä½¿ç”¨å®šä¹‰</h3><p>ä½œç”¨ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª <code>toString()</code> æ–¹æ³•ï¼Œå½“è¯¥å¯¹è±¡è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªæ–‡æœ¬å€¼æ—¶ï¼Œæˆ–è€…ä¸€ä¸ªå¯¹è±¡ä»¥é¢„æœŸçš„<strong>å­—ç¬¦ä¸²æ–¹å¼</strong>å¼•ç”¨æ—¶è‡ªåŠ¨è°ƒç”¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>toString()</code> æ–¹æ³•è¢«æ¯ä¸ª <code>Object</code> å¯¹è±¡ç»§æ‰¿ã€‚å¦‚æœæ­¤æ–¹æ³•åœ¨è‡ªå®šä¹‰å¯¹è±¡ä¸­æœªè¢«è¦†ç›–ï¼Œ<code>toString()</code> è¿”å› â€œ[object <em>type</em>]â€ï¼Œå…¶ä¸­ <code>type</code> æ˜¯å¯¹è±¡çš„ç±»å‹ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong>æ¯ä¸ªå¯¹è±¡å¯¹ä¼šé‡å†™toStringæ–¹æ³•ï¼Œä¸€èˆ¬éƒ½æ˜¯é‡å†™ä¸ºè¾“å‡ºè¯¥å¯¹è±¡çš„<strong>å­—ç¬¦ä¸²</strong>ã€‚</p>
<a id="more"></a>

<p>æ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> bol = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> num = <span class="number">5</span>;</span><br><span class="line">bol.toString()	<span class="comment">//"true"</span></span><br><span class="line">num.toString()  <span class="comment">//"5"</span></span><br></pre></td></tr></table></figure>

<p>å¯¹å‡½æ•°ï¼š</p>
<p>ä¸€æ ·è¾“å‡ºå‡½æ•°çš„å­—ç¬¦ä¸²ï¼<strong>å¯è§å‡½æ•°çš„toStringä¹Ÿé‡å†™äº†</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">55</span>)&#125;</span><br><span class="line">foo.toString()</span><br><span class="line"><span class="comment">//"function foo ()&#123;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">55</span>)&#125;<span class="string">"</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯<strong>å¯¹è±¡(Object)</strong>çš„toStringæ–¹æ³•æ˜¯åŸæ–¹æ³•ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"ggg"</span>&#125;</span><br><span class="line">obj.toString()	<span class="comment">//"[object Object]"</span></span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨-toString-æ£€æµ‹å¯¹è±¡ç±»å‹"><a href="#2-ä½¿ç”¨-toString-æ£€æµ‹å¯¹è±¡ç±»å‹" class="headerlink" title="2.ä½¿ç”¨ toString() æ£€æµ‹å¯¹è±¡ç±»å‹"></a>2.ä½¿ç”¨ <code>toString()</code> æ£€æµ‹å¯¹è±¡ç±»å‹</h3><p>å¯ä»¥é€šè¿‡ <code>toString()</code> æ¥è·å–æ¯ä¸ªå¯¹è±¡çš„ç±»å‹ã€‚ä¸ºäº†æ¯ä¸ªå¯¹è±¡éƒ½èƒ½é€šè¿‡ <code>Object.prototype.toString()</code> æ¥æ£€æµ‹ï¼Œéœ€è¦ä»¥ <code>Function.prototype.call()</code> æˆ–è€… <code>Function.prototype.apply()</code> çš„å½¢å¼æ¥è°ƒç”¨ï¼Œä¼ é€’è¦æ£€æŸ¥çš„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç§°ä¸º <code>thisArg</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> toString = <span class="built_in">Object</span>.prototype.toString;</span><br><span class="line"></span><br><span class="line">toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>); <span class="comment">// [object Date]</span></span><br><span class="line">toString.call(<span class="keyword">new</span> <span class="built_in">String</span>); <span class="comment">// [object String]</span></span><br><span class="line">toString.call(<span class="built_in">Math</span>); <span class="comment">// [object Math]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Since JavaScript 1.8.5</span></span><br><span class="line">toString.call(<span class="literal">undefined</span>); <span class="comment">// [object Undefined]</span></span><br><span class="line">toString.call(<span class="literal">null</span>); <span class="comment">// [object Null]</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>è¾“å‡ºçš„å€¼é‡Œï¼Œtypeçš„é¦–å­—æ¯æ˜¯<strong>å¤§å†™</strong>çš„ï¼ï¼ï¼</p>
<p>ï¼ˆè¦ä½¿ç”¨.callæ‰è¡Œï¼Œå› ä¸ºåªç”¨Objectçš„toStringå‡½æ•°æ˜¯åŸå§‹çš„ï¼Œæ‰€ä»¥ç”¨.callå°†å¯¹è±¡ä¼ å…¥ï¼Œæ‰èƒ½æ‰§è¡Œã€‚ï¼‰</p>
<h2 id="2-valueOf"><a href="#2-valueOf" class="headerlink" title="2.valueOf"></a>2.valueOf</h2><h3 id="1-ä½¿ç”¨å®šä¹‰ï¼š"><a href="#1-ä½¿ç”¨å®šä¹‰ï¼š" class="headerlink" title="1.ä½¿ç”¨å®šä¹‰ï¼š"></a>1.ä½¿ç”¨å®šä¹‰ï¼š</h3><p>JavaScriptè°ƒç”¨<code>valueOf</code>æ–¹æ³•å°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼ã€‚ä½ å¾ˆå°‘éœ€è¦è‡ªå·±è°ƒç”¨<code>valueOf</code>æ–¹æ³•ï¼›å½“é‡åˆ°è¦é¢„æœŸçš„åŸå§‹å€¼çš„å¯¹è±¡æ—¶ï¼ŒJavaScriptä¼šè‡ªåŠ¨è°ƒç”¨å®ƒã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>valueOf</code>æ–¹æ³•ç”±<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noopener"><code>Object</code></a>åé¢çš„æ¯ä¸ªå¯¹è±¡ç»§æ‰¿ã€‚ æ¯ä¸ªå†…ç½®çš„æ ¸å¿ƒå¯¹è±¡éƒ½ä¼šè¦†ç›–æ­¤æ–¹æ³•ä»¥è¿”å›é€‚å½“çš„å€¼ã€‚å¦‚æœå¯¹è±¡æ²¡æœ‰åŸå§‹å€¼ï¼Œåˆ™<code>valueOf</code>å°†è¿”å›å¯¹è±¡æœ¬èº«ã€‚</p>
<p>JavaScriptçš„è®¸å¤šå†…ç½®å¯¹è±¡éƒ½é‡å†™äº†è¯¥å‡½æ•°ï¼Œä»¥å®ç°æ›´é€‚åˆè‡ªèº«çš„åŠŸèƒ½éœ€è¦ã€‚å› æ­¤ï¼Œä¸åŒç±»å‹å¯¹è±¡çš„valueOf()æ–¹æ³•çš„è¿”å›å€¼å’Œè¿”å›å€¼ç±»å‹å‡å¯èƒ½ä¸åŒã€‚</p>
<pre><code>æ€ä¹ˆç†è§£è‡ªåŠ¨è°ƒç”¨å‘¢ï¼Ÿå¦‚ä¸‹ï¼š</code></pre><p>1.é¦–å…ˆæ¯”è¾ƒä¸¤è€…çš„å·®å¼‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">arr.toString()	<span class="comment">//"1,2,3,4"</span></span><br><span class="line">arr.valueOf()	<span class="comment">//(4) [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<p>valueOfå°±æ˜¯è¿”å›æœ¬èº«çš„åŸå§‹å€¼ï¼ï¼ï¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> bol = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>)</span><br><span class="line"><span class="built_in">console</span>.log(bol)	<span class="comment">// Boolean &#123;true&#125;</span></span><br><span class="line">bol.valueOf()	<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºç”¨å¯¹è±¡å®šä¹‰çš„å€¼ï¼ŒvalueOfä¼šè¿”å›æ•°æ®ç±»å‹å®šä¹‰çš„å€¼ï¼ï¼è¿™å°±æ˜¯ä»–çš„ä½œç”¨ï¼</p>
<p><strong>è‡³äºè‡ªåŠ¨è°ƒç”¨</strong>ï¼Œé‚£æ˜¯å½“ä½ ç”¨new Booleanå®šä¹‰æ—¶ï¼Œä»£ç ç”¨åˆ°<code>if(bol)</code>çš„æƒ…å†µï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ValueOfæ–¹æ³•ã€‚</p>
<p><strong>ä¸åŒç±»å‹å¯¹è±¡çš„valueOf()æ–¹æ³•çš„è¿”å›å€¼</strong></p>
<table>
<thead>
<tr>
<th align="left"><strong>å¯¹è±¡</strong></th>
<th align="left"><strong>è¿”å›å€¼</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">Array</td>
<td align="left">è¿”å›æ•°ç»„å¯¹è±¡æœ¬èº«ã€‚</td>
</tr>
<tr>
<td align="left">Boolean</td>
<td align="left">å¸ƒå°”å€¼ã€‚</td>
</tr>
<tr>
<td align="left">Date</td>
<td align="left">å­˜å‚¨çš„æ—¶é—´æ˜¯ä» 1970 å¹´ 1 æœˆ 1 æ—¥åˆå¤œå¼€å§‹è®¡çš„æ¯«ç§’æ•° UTCã€‚</td>
</tr>
<tr>
<td align="left">Function</td>
<td align="left">å‡½æ•°æœ¬èº«ã€‚</td>
</tr>
<tr>
<td align="left">Number</td>
<td align="left">æ•°å­—å€¼ã€‚</td>
</tr>
<tr>
<td align="left">Object</td>
<td align="left">å¯¹è±¡æœ¬èº«ã€‚è¿™æ˜¯é»˜è®¤æƒ…å†µã€‚</td>
</tr>
<tr>
<td align="left">String</td>
<td align="left">å­—ç¬¦ä¸²å€¼ã€‚</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">Math å’Œ Error å¯¹è±¡æ²¡æœ‰ valueOf æ–¹æ³•</td>
</tr>
</tbody></table>
<h3 id="2-ä½¿ç”¨valueOfï¼š"><a href="#2-ä½¿ç”¨valueOfï¼š" class="headerlink" title="2.ä½¿ç”¨valueOfï¼š"></a>2.ä½¿ç”¨valueOfï¼š</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Arrayï¼šè¿”å›æ•°ç»„å¯¹è±¡æœ¬èº«</span></span><br><span class="line"><span class="keyword">var</span> array = [<span class="string">"ABC"</span>, <span class="literal">true</span>, <span class="number">12</span>, <span class="number">-5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array.valueOf() === array);   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Dateï¼šå½“å‰æ—¶é—´è·1970å¹´1æœˆ1æ—¥åˆå¤œçš„æ¯«ç§’æ•°</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">7</span>, <span class="number">18</span>, <span class="number">23</span>, <span class="number">11</span>, <span class="number">59</span>, <span class="number">230</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date.valueOf());   <span class="comment">// 1376838719230</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Numberï¼šè¿”å›æ•°å­—å€¼</span></span><br><span class="line"><span class="keyword">var</span> num =  <span class="number">15.26540</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.valueOf());   <span class="comment">// 15.2654</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸ƒå°”ï¼šè¿”å›å¸ƒå°”å€¼trueæˆ–false</span></span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(bool.valueOf() === bool);   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// newä¸€ä¸ªBooleanå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> newBool = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// valueOf()è¿”å›çš„æ˜¯trueï¼Œä¸¤è€…çš„å€¼ç›¸ç­‰</span></span><br><span class="line"><span class="built_in">console</span>.log(newBool.valueOf() == newBool);   <span class="comment">// true</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯ä¸å…¨ç­‰ï¼Œä¸¤è€…ç±»å‹ä¸ç›¸ç­‰ï¼Œå‰è€…æ˜¯booleanç±»å‹ï¼Œåè€…æ˜¯objectç±»å‹</span></span><br><span class="line"><span class="built_in">console</span>.log(newBool.valueOf() === newBool);   <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Functionï¼šè¿”å›å‡½æ•°æœ¬èº«</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log( foo.valueOf() === foo );   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> foo2 =  <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"x"</span>, <span class="string">"y"</span>, <span class="string">"return x + y;"</span>);</span><br><span class="line"><span class="built_in">console</span>.log( foo2.valueOf() );</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Æ’ anonymous(x,y</span></span><br><span class="line"><span class="comment">) &#123;</span></span><br><span class="line"><span class="comment">return x + y;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Objectï¼šè¿”å›å¯¹è±¡æœ¬èº«</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">"å¼ ä¸‰"</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log( obj.valueOf() === obj );   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Stringï¼šè¿”å›å­—ç¬¦ä¸²å€¼</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"http://www.xyz.com"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( str.valueOf() === str );   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// newä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"http://www.xyz.com"</span>);</span><br><span class="line"><span class="comment">// ä¸¤è€…çš„å€¼ç›¸ç­‰ï¼Œä½†ä¸å…¨ç­‰ï¼Œå› ä¸ºç±»å‹ä¸åŒï¼Œå‰è€…ä¸ºstringç±»å‹ï¼Œåè€…ä¸ºobjectç±»å‹</span></span><br><span class="line"><span class="built_in">console</span>.log( str2.valueOf() === str2 );   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p><strong>æ€»ç»“ï¼š</strong>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼šstringã€numberã€booleanï¼Œå¦‚æœç”¨newå®šä¹‰ï¼ŒvalueOfåè¿”å›çš„å€¼ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹ï¼‰ï¼Œä¸å…¨ç­‰äº æœ¬èº«ï¼ˆå¯¹è±¡ï¼‰ã€‚</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯¦è§£thisç»‘å®š</title>
    <url>/2019/%E8%AF%A6%E8%A7%A3this%E7%BB%91%E5%AE%9A/</url>
    <content><![CDATA[<h1 id="1-thisç»‘å®š"><a href="#1-thisç»‘å®š" class="headerlink" title="1.thisç»‘å®š"></a>1.<code>this</code>ç»‘å®š</h1><h2 id="1-this"><a href="#1-this" class="headerlink" title="1 . this"></a>1 . <code>this</code></h2><p>ä»€ä¹ˆæ˜¯<code>this</code> ï¼Ÿåœ¨è®¨è®º<code>this</code>ç»‘å®šå‰ï¼Œæˆ‘ä»¬å¾—å…ˆææ¸…æ¥šthisä»£è¡¨ä»€ä¹ˆã€‚</p>
<a id="more"></a>

<ol>
<li>thisæ˜¯JavaScriptçš„å…³é”®å­—ä¹‹ä¸€ã€‚å®ƒæ˜¯ å¯¹è±¡ è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨ å¯¹è±¡ å†…éƒ¨ä½¿ç”¨ã€‚éšç€å‡½æ•°ä½¿ç”¨åœºåˆçš„ä¸åŒï¼Œthisçš„å€¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚</li>
<li><strong>thisæŒ‡å‘ä»€ä¹ˆï¼Œå®Œå…¨å–å†³äº ä»€ä¹ˆåœ°æ–¹ä»¥ä»€ä¹ˆæ–¹å¼è°ƒç”¨ï¼Œè€Œä¸æ˜¯ åˆ›å»ºæ—¶</strong>ã€‚ï¼ˆæ¯”è¾ƒå¤šäººè¯¯è§£çš„åœ°æ–¹ï¼‰ï¼ˆå®ƒéå¸¸è¯­ä¹‰åŒ–ï¼Œthisåœ¨è‹±æ–‡ä¸­çš„å«ä¹‰å°±æ˜¯ <strong>è¿™ï¼Œè¿™ä¸ª</strong> ï¼Œä½†è¿™å…¶å®èµ·åˆ°äº†ä¸€å®šçš„è¯¯å¯¼ä½œç”¨ï¼Œå› ä¸ºthiså¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œå¹¶ä¸ä¸€å®šä¸€ç›´æŒ‡å‘å½“å‰ <strong>è¿™ä¸ª</strong>ï¼‰</li>
</ol>
<h2 id="2-this-ç»‘å®šè§„åˆ™"><a href="#2-this-ç»‘å®šè§„åˆ™" class="headerlink" title="2 . this ç»‘å®šè§„åˆ™"></a>2 . <code>this</code> ç»‘å®šè§„åˆ™</h2><p>æŒæ¡äº†ä¸‹é¢ä»‹ç»çš„4ç§ç»‘å®šçš„è§„åˆ™ï¼Œé‚£ä¹ˆ<strong>ä½ åªè¦çœ‹åˆ°å‡½æ•°è°ƒç”¨å°±å¯ä»¥åˆ¤æ–­ this çš„æŒ‡å‘äº†</strong>ã€‚</p>
<h3 id="2-1-é»˜è®¤ç»‘å®š"><a href="#2-1-é»˜è®¤ç»‘å®š" class="headerlink" title="2 .1 é»˜è®¤ç»‘å®š"></a>2 .1 é»˜è®¤ç»‘å®š</h3><p>è€ƒè™‘ä¸‹é¢ä»£ç :</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span> ;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);    <span class="comment">// 10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å°±æ˜¯å…¸å‹çš„é»˜è®¤ç»‘å®šï¼Œæˆ‘ä»¬çœ‹çœ‹fooè°ƒç”¨çš„ä½ç½®ï¼Œâ€å…‰æ†å¸ä»¤â€œï¼Œåƒ <strong>è¿™ç§ç›´æ¥ä½¿ç”¨è€Œä¸å¸¦ä»»ä½•ä¿®é¥°çš„å‡½æ•°è°ƒç”¨</strong> ï¼Œå°± <strong>é»˜è®¤ä¸”åªèƒ½</strong> åº”ç”¨ é»˜è®¤ç»‘å®šã€‚</p>
<p>é‚£é»˜è®¤ç»‘å®šåˆ°å“ªå‘¢ï¼Œä¸€èˆ¬æ˜¯<code>window</code>ä¸Šï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ æ˜¯<code>undefined</code>ã€‚</p>
<h3 id="2-2-éšæ€§ç»‘å®š"><a href="#2-2-éšæ€§ç»‘å®š" class="headerlink" title="2 .2 éšæ€§ç»‘å®š"></a>2 .2 éšæ€§ç»‘å®š</h3><p>ä»£ç è¯´è¯:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a : <span class="number">10</span>,</span><br><span class="line">    foo : foo</span><br><span class="line">&#125;</span><br><span class="line">foo();                <span class="comment">// ?</span></span><br><span class="line"></span><br><span class="line">obj.foo();            <span class="comment">// ?</span></span><br></pre></td></tr></table></figure>

<p>ç­”æ¡ˆ : undefined 10</p>
<p><code>foo()</code>çš„è¿™ä¸ªå†™æ³•ç†Ÿæ‚‰å—ï¼Œå°±æ˜¯æˆ‘ä»¬åˆšåˆšå†™çš„é»˜è®¤ç»‘å®š,ç­‰ä»·äºæ‰“å°<code>window.a</code>,æ•…è¾“å‡º<code>undefined</code> ,<br>ä¸‹é¢<code>obj.foo()</code>è¿™ç§å¤§å®¶åº”è¯¥ç»å¸¸å†™ï¼Œè¿™å…¶å®å°±æ˜¯æˆ‘ä»¬é©¬ä¸Šè¦è®¨è®ºçš„ <strong>éšæ€§ç»‘å®š</strong> ã€‚</p>
<p>å‡½æ•°fooæ‰§è¡Œçš„æ—¶å€™æœ‰äº†<strong>ä¸Šä¸‹æ–‡å¯¹è±¡</strong>ï¼Œå³ <code>obj</code>ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œ<strong>å‡½æ•°é‡Œçš„thisé»˜è®¤ç»‘å®šä¸ºä¸Šä¸‹æ–‡å¯¹è±¡</strong>ï¼Œç­‰ä»·äºæ‰“å°<code>obj.a</code>,æ•…è¾“å‡º<code>10</code> ã€‚</p>
<p>å¦‚æœæ˜¯é“¾æ€§çš„å…³ç³»ï¼Œæ¯”å¦‚ <code>xx.yy.obj.foo();</code>, ä¸Šä¸‹æ–‡å–å‡½æ•°çš„ç›´æ¥ä¸Šçº§ï¼Œå³ç´§æŒ¨ç€çš„é‚£ä¸ªï¼Œæˆ–è€…è¯´å¯¹è±¡é“¾çš„æœ€åä¸€ä¸ªã€‚</p>
<h3 id="2-3-æ˜¾æ€§ç»‘å®š"><a href="#2-3-æ˜¾æ€§ç»‘å®š" class="headerlink" title="2 .3 æ˜¾æ€§ç»‘å®š"></a>2 .3 æ˜¾æ€§ç»‘å®š</h3><h4 id="2-3-1-éšæ€§ç»‘å®šçš„é™åˆ¶"><a href="#2-3-1-éšæ€§ç»‘å®šçš„é™åˆ¶" class="headerlink" title="2 .3 .1 éšæ€§ç»‘å®šçš„é™åˆ¶"></a>2 .3 .1 éšæ€§ç»‘å®šçš„é™åˆ¶</h4><p>åœ¨æˆ‘ä»¬åˆšåˆšçš„ <strong>éšæ€§ç»‘å®šä¸­æœ‰ä¸€ä¸ªè‡´å‘½çš„é™åˆ¶ï¼Œå°±æ˜¯ä¸Šä¸‹æ–‡å¿…é¡»åŒ…å«æˆ‘ä»¬çš„å‡½æ•°</strong> ï¼Œä¾‹ï¼š<code>var obj = { foo : foo }</code>,å¦‚æœä¸Šä¸‹æ–‡ä¸åŒ…å«æˆ‘ä»¬çš„å‡½æ•°ç”¨éšæ€§ç»‘å®šæ˜æ˜¾æ˜¯è¦å‡ºé”™çš„ï¼Œ<strong>ä¸å¯èƒ½æ¯ä¸ªå¯¹è±¡éƒ½è¦åŠ è¿™ä¸ªå‡½æ•°</strong> ,é‚£æ ·çš„è¯æ‰©å±•,ç»´æŠ¤æ€§å¤ªå·®äº†ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥èŠçš„å°±æ˜¯ç›´æ¥ <strong>ç»™å‡½æ•°å¼ºåˆ¶æ€§ç»‘å®šthis</strong>ã€‚</p>
<h4 id="2-3-2-call-apply-bind"><a href="#2-3-2-call-apply-bind" class="headerlink" title="2 .3 .2 call apply bind"></a>2 .3 .2 call apply bind</h4><p>è¿™é‡Œæˆ‘ä»¬å°±è¦ç”¨åˆ° js ç»™æˆ‘ä»¬æä¾›çš„å‡½æ•° call å’Œ applyï¼Œ<strong>å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯æ”¹å˜å‡½æ•°çš„thisæŒ‡å‘</strong>ï¼Œ<strong>ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ è®¾ç½®thiså¯¹è±¡</strong>ã€‚</p>
<p>ä¸¤ä¸ªå‡½æ•°çš„åŒºåˆ«ï¼š</p>
<ol>
<li>callä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹æ‰€æœ‰çš„å‚æ•°éƒ½æ˜¯ åŸå‡½æ•°çš„å‚æ•°ã€‚</li>
<li>applyåªæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä¸”ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯æ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä»£è¡¨åŸå‡½æ•°çš„å‚æ•°åˆ—è¡¨ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a+b);</span><br><span class="line">&#125;</span><br><span class="line">foo.call(<span class="literal">null</span>,<span class="string">'æµ·æ´‹'</span>,<span class="string">'é¥¼å¹²'</span>);        <span class="comment">// æµ·æ´‹é¥¼å¹²  è¿™é‡ŒthisæŒ‡å‘ä¸é‡è¦å°±å†™nulläº†</span></span><br><span class="line">foo.apply(<span class="literal">null</span>, [<span class="string">'æµ·æ´‹'</span>,<span class="string">'é¥¼å¹²'</span>] );     <span class="comment">// æµ·æ´‹é¥¼å¹²</span></span><br></pre></td></tr></table></figure>

<p>é™¤äº† callï¼Œapplyå‡½æ•°ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæ”¹å˜thisçš„å‡½æ•° bind ï¼Œå®ƒå’Œcall,applyéƒ½ä¸åŒã€‚</p>
<p><strong>bindåªæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œä¸”ä¸ä¼šç«‹åˆ»æ‰§è¡Œï¼Œåªæ˜¯å°†ä¸€ä¸ªå€¼ç»‘å®šåˆ°å‡½æ•°çš„thisä¸Š,å¹¶å°†ç»‘å®šå¥½çš„å‡½æ•°è¿”å›</strong>ã€‚ä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">a</span> : <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line">foo = foo.bind(obj);</span><br><span class="line">foo();                    <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆbindå‡½æ•°éå¸¸ç‰¹åˆ«ï¼Œä¸‹æ¬¡å’Œå¤§å®¶ä¸€èµ·è®¨è®ºå®ƒçš„æºç ï¼‰</p>
<h4 id="2-3-2-æ˜¾æ€§ç»‘å®š"><a href="#2-3-2-æ˜¾æ€§ç»‘å®š" class="headerlink" title="2 .3 .2 æ˜¾æ€§ç»‘å®š"></a>2 .3 .2 æ˜¾æ€§ç»‘å®š</h4><p>å¼€å§‹æ­£é¢˜ï¼Œä¸Šä»£ç ï¼Œå°±ç”¨ä¸Šé¢éšæ€§ç»‘å®šçš„ä¾‹å­ :</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a : <span class="number">10</span>            <span class="comment">//å»æ‰é‡Œé¢çš„foo</span></span><br><span class="line">&#125;</span><br><span class="line">foo.call(obj);        <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°†éšæ€§ç»‘å®šä¾‹å­ä¸­çš„ ä¸Šä¸‹æ–‡å¯¹è±¡ é‡Œçš„å‡½æ•°å»æ‰äº†ï¼Œæ˜¾ç„¶ç°åœ¨ä¸èƒ½ç”¨ <code>ä¸Šä¸‹æ–‡.å‡½æ•°</code> è¿™ç§å½¢å¼æ¥è°ƒç”¨å‡½æ•°ï¼Œå¤§å®¶çœ‹ä»£ç é‡Œçš„æ˜¾æ€§ç»‘å®šä»£ç <code>foo.call(obj)</code>ï¼Œçœ‹èµ·æ¥å¾ˆæ€ªï¼Œå’Œæˆ‘ä»¬ä¹‹å‰æ‰€äº†è§£çš„å‡½æ•°è°ƒç”¨ä¸ä¸€æ ·ã€‚</p>
<p>å…¶å®call æ˜¯ foo ä¸Šçš„ä¸€ä¸ªå‡½æ•°,åœ¨æ”¹å˜thisæŒ‡å‘çš„åŒæ—¶æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚</p>
<p>ï¼ˆæƒ³è¦æ·±å…¥ç†è§£ [<code>call apply bind thisç¡¬ç»‘å®š,è½¯ç»‘å®š,ç®­å¤´å‡½æ•°ç»‘å®š</code> ] ç­‰æ›´å¤šé»‘ç§‘æŠ€ çš„å°ä¼™ä¼´æ¬¢è¿å…³æ³¨æˆ‘æˆ–æœ¬æ–‡çš„è¯„è®ºï¼Œæœ€è¿‘æˆ‘ä¼šå•ç‹¬åšä¸€æœŸæ”¾åˆ°ä¸€èµ·å†™ä¸€ç¯‡æ–‡ç« ï¼‰ï¼ˆ<strong>ä¸æƒ³çœ‹çš„å°ä¼™ä¼´ä¸ç”¨æ‹…å¿ƒï¼Œä¸å½±å“å¯¹æœ¬æ–‡çš„ç†è§£</strong>ï¼‰</p>
<h3 id="2-4-new-ç»‘å®š"><a href="#2-4-new-ç»‘å®š" class="headerlink" title="2 .4 new ç»‘å®š"></a>2 .4 new ç»‘å®š</h3><h4 id="2-4-1-ä»€ä¹ˆæ˜¯-new"><a href="#2-4-1-ä»€ä¹ˆæ˜¯-new" class="headerlink" title="2 .4 .1 ä»€ä¹ˆæ˜¯ new"></a>2 .4 .1 ä»€ä¹ˆæ˜¯ <code>new</code></h4><p>å­¦è¿‡é¢å‘å¯¹è±¡çš„å°ä¼™ä¼´å¯¹newè‚¯å®šä¸é™Œç”Ÿï¼Œjsçš„newå’Œä¼ ç»Ÿçš„é¢å‘å¯¹è±¡è¯­è¨€çš„newçš„ä½œç”¨éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†æ˜¯ä»–ä»¬çš„æœºåˆ¶å®Œå…¨ä¸åŒã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡å°‘ä¸äº†ä¸€ä¸ªæ¦‚å¿µï¼Œé‚£å°±æ˜¯<code>æ„é€ å‡½æ•°</code>ï¼Œä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ æ„é€ å‡½æ•° æ˜¯ç±»é‡Œçš„ä¸€ç§ç‰¹æ®Šå‡½æ•°ï¼Œè¦åˆ›å»ºå¯¹è±¡æ—¶ä½¿ç”¨<code>new ç±»å()</code>çš„å½¢å¼å»è°ƒç”¨ç±»ä¸­çš„æ„é€ å‡½æ•°ï¼Œè€Œjsä¸­å°±ä¸ä¸€æ ·äº†ã€‚</p>
<p><strong>jsä¸­çš„åªè¦ç”¨newä¿®é¥°çš„ å‡½æ•°å°±æ˜¯â€™æ„é€ å‡½æ•°â€™</strong>ï¼Œå‡†ç¡®æ¥è¯´æ˜¯ <strong>å‡½æ•°çš„æ„é€ è°ƒç”¨</strong>ï¼Œå› ä¸ºåœ¨jsä¸­å¹¶ä¸å­˜åœ¨æ‰€è°“çš„â€™æ„é€ å‡½æ•°â€™ã€‚</p>
<p>é‚£ä¹ˆç”¨new åšåˆ°å‡½æ•°çš„<code>æ„é€ è°ƒç”¨</code>åï¼Œjså¸®æˆ‘ä»¬åšäº†ä»€ä¹ˆå·¥ä½œå‘¢:</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</li>
<li>æŠŠè¿™ä¸ªæ–°å¯¹è±¡çš„<code>__proto__</code>å±æ€§æŒ‡å‘ åŸå‡½æ•°çš„<code>prototype</code>å±æ€§ã€‚(å³ç»§æ‰¿åŸå‡½æ•°çš„åŸå‹)</li>
<li><strong>å°†è¿™ä¸ªæ–°å¯¹è±¡ç»‘å®šåˆ° æ­¤å‡½æ•°çš„thisä¸Š</strong> ã€‚</li>
<li>è¿”å›æ–°å¯¹è±¡ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–<strong>å¯¹è±¡</strong>ã€‚</li>
</ol>
<p>ç¬¬ä¸‰æ¡å°±æ˜¯æˆ‘ä»¬ä¸‹é¢è¦èŠçš„newç»‘å®š</p>
<h4 id="2-4-2-new-ç»‘å®š"><a href="#2-4-2-new-ç»‘å®š" class="headerlink" title="2 .4 .2 new ç»‘å®š"></a>2 .4 .2 new ç»‘å®š</h4><p>ä¸å“”å“”ï¼Œçœ‹ä»£ç :</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">foo();                    <span class="comment">// windowå¯¹è±¡</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.a);    <span class="comment">// 10   é»˜è®¤ç»‘å®š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> foo();      <span class="comment">// foo&#123; a : 10 &#125;  åˆ›å»ºçš„æ–°å¯¹è±¡çš„é»˜è®¤åä¸ºå‡½æ•°å</span></span><br><span class="line">                          <span class="comment">// ç„¶åç­‰ä»·äº foo &#123; a : 10 &#125;;  var obj = foo;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.a);       <span class="comment">// 10    newç»‘å®š</span></span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨newè°ƒç”¨å‡½æ•°åï¼Œå‡½æ•°ä¼š ä»¥è‡ªå·±çš„åå­— å‘½å å’Œ åˆ›å»º ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶è¿”å›ã€‚</strong></p>
<p>ç‰¹åˆ«æ³¨æ„ : å¦‚æœåŸå‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œé‚£ä¹ˆå°†æ— æ³•è¿”å›æ–°å¯¹è±¡,ä½ å°†ä¸¢å¤±ç»‘å®šthisçš„æ–°å¯¹è±¡ï¼Œä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"æ£è›‹é¬¼"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> foo();</span><br><span class="line"><span class="built_in">console</span>.log(obj.a);       <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(obj);         <span class="comment">// "æ£è›‹é¬¼"</span></span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘çš„è¡¥å……</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">10</span>;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"æ£è›‹é¬¼"</span>);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> foo();	<span class="comment">//fooÂ &#123;a: 10&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šï¼Œthisä¼šè¾“å‡ºä»¥å‡½æ•°è‡ªå·±çš„åå­— å‘½åçš„å¯¹è±¡ã€‚</p>
<p><strong>å¯è§</strong>ï¼šåŸå‡½æ•°å…ˆè¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ç±»å‹ï¼Œå†å°†è¿™ä¸ªå¯¹è±¡çš„åœ°å€èµ‹å€¼ç»™objçš„ã€‚</p>
<h4 id="2-4-3æ„é€ å‡½æ•°ç»‘å®šï¼ˆæˆ‘çš„ï¼‰"><a href="#2-4-3æ„é€ å‡½æ•°ç»‘å®šï¼ˆæˆ‘çš„ï¼‰" class="headerlink" title="2.4.3æ„é€ å‡½æ•°ç»‘å®šï¼ˆæˆ‘çš„ï¼‰"></a>2.4.3æ„é€ å‡½æ•°ç»‘å®šï¼ˆæˆ‘çš„ï¼‰</h4><p>æ„é€ å‡½æ•°ç»‘å®šè·Ÿnewæ˜¯ä¸€ä¸ªä¸œè¥¿çš„ï¼</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Obj</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">Obj(<span class="string">'tony'</span>); <span class="comment">//window</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> Obj(<span class="string">'tony'</span>);	<span class="comment">//obj&#123;name:'tony'&#125;</span></span><br></pre></td></tr></table></figure>

<p>newçš„è¿‡ç¨‹ï¼Œå°†thisç»‘å®šåˆ°æ–°å¯¹è±¡èº«ä¸Šçš„ã€‚ä½†åŸå§‹å‡½æ•°çš„thisæŒ‡å‘çš„æ˜¯windowï¼ï¼</p>
<h3 id="2-5-thisç»‘å®šä¼˜å…ˆçº§"><a href="#2-5-thisç»‘å®šä¼˜å…ˆçº§" class="headerlink" title="2 .5 thisç»‘å®šä¼˜å…ˆçº§"></a>2 .5 thisç»‘å®šä¼˜å…ˆçº§</h3><p><em>è¿‡ç¨‹æ˜¯äº›æ— èŠçš„ä»£ç æµ‹è¯•ï¼Œæˆ‘ç›´æ¥å†™å‡ºä¼˜å…ˆçº§äº†</em></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> ç»‘å®š &gt; æ˜¾ç¤ºç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š</span><br></pre></td></tr></table></figure>

<h2 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3 . æ€»ç»“"></a>3 . æ€»ç»“</h2><ol>
<li><p>å¦‚æœå‡½æ•°è¢«<code>new</code> ä¿®é¥°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">thisç»‘å®šçš„æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œä¾‹:var bar = new foo(); å‡½æ•° foo ä¸­çš„ this å°±æ˜¯ä¸€ä¸ªå«fooçš„æ–°åˆ›å»ºçš„å¯¹è±¡ , ç„¶åå°†è¿™ä¸ªå¯¹è±¡èµ‹ç»™bar , è¿™æ ·çš„ç»‘å®šæ–¹å¼å« newç»‘å®š .</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœå‡½æ•°æ˜¯ä½¿ç”¨<code>call,apply,bind</code>æ¥è°ƒç”¨çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">thisç»‘å®šçš„æ˜¯ call,apply,bind çš„ç¬¬ä¸€ä¸ªå‚æ•°.ä¾‹: foo.call(obj); , foo ä¸­çš„ this å°±æ˜¯ obj , è¿™æ ·çš„ç»‘å®šæ–¹å¼å« æ˜¾æ€§ç»‘å®š .</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœå‡½æ•°æ˜¯åœ¨æŸä¸ª ä¸Šä¸‹æ–‡å¯¹è±¡ ä¸‹è¢«è°ƒç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">thisç»‘å®šçš„æ˜¯é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œä¾‹ : var obj = &#123; foo : foo &#125;; obj.foo(); foo ä¸­çš„ this å°±æ˜¯ obj . è¿™æ ·çš„ç»‘å®šæ–¹å¼å« éšæ€§ç»‘å®š .</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœéƒ½ä¸æ˜¯ï¼Œå³ä½¿ç”¨é»˜è®¤ç»‘å®š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä¾‹:function foo()&#123;...&#125; foo() ,foo ä¸­çš„ this å°±æ˜¯ window.(ä¸¥æ ¼æ¨¡å¼ä¸‹é»˜è®¤ç»‘å®šåˆ°undefined).</span><br><span class="line">è¿™æ ·çš„ç»‘å®šæ–¹å¼å« é»˜è®¤ç»‘å®š .</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="4-é¢è¯•é¢˜è§£æ"><a href="#4-é¢è¯•é¢˜è§£æ" class="headerlink" title="4 . é¢è¯•é¢˜è§£æ"></a>4 . é¢è¯•é¢˜è§£æ</h2><p><strong>1.</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    x: <span class="number">20</span>,</span><br><span class="line">    f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);        <span class="comment">// ?</span></span><br><span class="line">        <span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);    </span><br><span class="line">            &#125;</span><br><span class="line">        foo();                      <span class="comment">// ?</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.f();</span><br></pre></td></tr></table></figure>

<hr>
<p>â€”â€”â€”â€”â€”â€”â€”â€“ç­”æ¡ˆâ€”â€”â€”â€”â€”â€”â€”<br>ç­”æ¡ˆ ï¼š 20 10<br>è§£æ ï¼šè€ƒç‚¹ <strong>1.</strong> thisé»˜è®¤ç»‘å®š <strong>2.</strong> thiséšæ€§ç»‘å®š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    x: <span class="number">20</span>,</span><br><span class="line">    f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);    <span class="comment">// 20</span></span><br><span class="line">                                <span class="comment">// å…¸å‹çš„éšæ€§ç»‘å®š,è¿™é‡Œ f çš„thisæŒ‡å‘ä¸Šä¸‹æ–‡ obj ,å³è¾“å‡º 20</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.x); </span><br><span class="line">            &#125;</span><br><span class="line">        foo();       <span class="comment">// 10</span></span><br><span class="line">                     <span class="comment">//æœ‰äº›äººåœ¨è¿™ä¸ªåœ°æ–¹å°±æƒ³å½“ç„¶çš„è§‰å¾— foo åœ¨å‡½æ•° f é‡Œ,ä¹Ÿåœ¨ f é‡Œæ‰§è¡Œï¼Œ</span></span><br><span class="line">                     <span class="comment">//é‚£ this è‚¯å®šæ˜¯æŒ‡å‘obj å•Š , ä»”ç»†çœ‹çœ‹æˆ‘ä»¬è¯´çš„thisç»‘å®šè§„åˆ™ , å¯¹åº”ä¸€ä¸‹å¾ˆå®¹æ˜“</span></span><br><span class="line">                     <span class="comment">//å‘ç°è¿™ç§'å…‰æ†å¸ä»¤'ï¼Œæ˜¯æˆ‘ä»¬ä¸€å¼€å§‹å°±ç¤ºèŒƒçš„é»˜è®¤ç»‘å®š,è¿™é‡Œthisç»‘å®šçš„æ˜¯window</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.f();</span><br></pre></td></tr></table></figure>

<p><strong>2.</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">arg</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = arg;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = foo(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> b = foo(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.a);    <span class="comment">// ?</span></span><br><span class="line"><span class="built_in">console</span>.log(b.a);    <span class="comment">// ?</span></span><br></pre></td></tr></table></figure>

<hr>
<p>â€”â€”â€”â€”â€”â€”â€”â€“ç­”æ¡ˆâ€”â€”â€”â€”â€”â€”â€”</p>
<p>ç­”æ¡ˆ ï¼š undefined 10<br>è§£æ ï¼šè€ƒç‚¹ <strong>1.</strong> å…¨å±€æ±¡æŸ“ <strong>2.</strong> thisé»˜è®¤ç»‘å®š</p>
<p>è¿™é“é¢˜å¾ˆæœ‰æ„æ€ï¼Œé—®é¢˜åŸºæœ¬ä¸Šéƒ½é›†ä¸­åœ¨ç¬¬ä¸€undefinedä¸Šï¼Œè¿™å…¶å®æ˜¯é¢˜ç›®çš„å°é™·é˜±ï¼Œä½†æ˜¯è¿½æ ˆçš„è¿‡ç¨‹ç»å¯¹ç²¾å½©<br>è®©æˆ‘ä»¬ä¸€æ­¥æ­¥åˆ†æè¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼š</p>
<ol>
<li>foo(1)æ‰§è¡Œï¼Œåº”è¯¥ä¸éš¾çœ‹å‡ºæ˜¯é»˜è®¤ç»‘å®šå§ , thisæŒ‡å‘äº†windowï¼Œå‡½æ•°é‡Œç­‰ä»·äº window<strong>.</strong>a = 1,return window;</li>
<li>var a = foo(1) ç­‰ä»·äº window<strong>.</strong>a = window , å¾ˆå¤šäººéƒ½å¿½ç•¥äº†<strong>var a å°±æ˜¯window.a</strong> ï¼Œå°†åˆšåˆšèµ‹å€¼çš„ 1 æ›¿æ¢æ‰äº†ã€‚</li>
<li>æ‰€ä»¥è¿™é‡Œçš„ a çš„å€¼æ˜¯ window , a<strong>.</strong>a ä¹Ÿæ˜¯window ï¼Œ å³window<strong>.</strong>a = window ; window<strong>.</strong>a<strong>.</strong>a = window;</li>
<li>foo(10) å’Œç¬¬ä¸€æ¬¡ä¸€æ ·ï¼Œéƒ½æ˜¯é»˜è®¤ç»‘å®šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œ<strong>å°†window.a èµ‹å€¼æˆ 10</strong> ï¼Œæ³¨æ„è¿™é‡Œæ˜¯å…³é”®ï¼ŒåŸæ¥window.a = window ,ç°åœ¨è¢«èµ‹å€¼æˆäº†10ï¼Œå˜æˆäº†å€¼ç±»å‹ï¼Œæ‰€ä»¥ç°åœ¨ a.a = undefinedã€‚(éªŒè¯è¿™ä¸€ç‚¹åªéœ€è¦å°†var b = foo(10);åˆ æ‰ï¼Œè¿™é‡Œçš„ a.a è¿˜æ˜¯window)</li>
<li>var b = foo(10); ç­‰ä»·äº window.b = window;</li>
</ol>
<p>æœ¬é¢˜ä¸­æ‰€æœ‰å˜é‡çš„å€¼ï¼Œa = window.a = 10 , a.a = undefined , b = window , b.a = window.a = 10;</p>
<p><strong>3.</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    x: <span class="number">20</span>,</span><br><span class="line">    f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="keyword">this</span>.x); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = obj.f;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    x: <span class="number">30</span>,</span><br><span class="line">    f: obj.f</span><br><span class="line">&#125;</span><br><span class="line">obj.f();</span><br><span class="line">bar();</span><br><span class="line">obj2.f();</span><br></pre></td></tr></table></figure>

<hr>
<p>â€”â€”â€”â€”â€”â€”â€”â€“ç­”æ¡ˆâ€”â€”â€”â€”â€”â€”â€”<br>ç­”æ¡ˆï¼š20 10 30<br>è§£æï¼šä¼ è¯´ä¸­çš„é€åˆ†é¢˜ï¼Œè€ƒç‚¹ï¼Œè¾¨åˆ«thisç»‘å®š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    x: <span class="number">20</span>,</span><br><span class="line">    f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="keyword">this</span>.x); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = obj.f;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    x: <span class="number">30</span>,</span><br><span class="line">    f: obj.f</span><br><span class="line">&#125;</span><br><span class="line">obj.f();    <span class="comment">// 20</span></span><br><span class="line">            <span class="comment">//æœ‰ä¸Šä¸‹æ–‡ï¼Œthisä¸ºobjï¼Œéšæ€§ç»‘å®š</span></span><br><span class="line">bar();      <span class="comment">// 10</span></span><br><span class="line">            <span class="comment">//'å…‰æ†å¸ä»¤' é»˜è®¤ç»‘å®š  ï¼ˆ obj.f åªæ˜¯æ™®é€šçš„èµ‹å€¼æ“ä½œ ï¼‰</span></span><br><span class="line">obj2.f();   <span class="comment">//30</span></span><br><span class="line">            <span class="comment">//ä¸ç®¡ f å‡½æ•°æ€ä¹ˆæŠ˜è…¾ï¼Œthisåªå’Œ æ‰§è¡Œä½ç½®å’Œæ–¹å¼æœ‰å…³ï¼Œå³æˆ‘ä»¬æ‰€è¯´çš„ç»‘å®šè§„åˆ™</span></span><br></pre></td></tr></table></figure>

<p><strong>4.</strong> å‹è½´é¢˜äº†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log (<span class="number">1</span>); &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">foo.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">2</span>);&#125;;</span><br><span class="line">foo.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">3</span>);&#125;;</span><br><span class="line"><span class="keyword">var</span> getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">4</span>);&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="number">5</span>);&#125;</span><br><span class="line"> </span><br><span class="line">foo.getName ();                <span class="comment">// ?</span></span><br><span class="line">getName ();                    <span class="comment">// ?</span></span><br><span class="line">foo().getName ();              <span class="comment">// ?</span></span><br><span class="line">getName ();                    <span class="comment">// ?</span></span><br><span class="line"><span class="keyword">new</span> foo.getName ();            <span class="comment">// ?</span></span><br><span class="line"><span class="keyword">new</span> foo().getName ();          <span class="comment">// ?</span></span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> foo().getName ();      <span class="comment">// ?</span></span><br></pre></td></tr></table></figure>

<hr>
<p>â€”â€”â€”â€”â€”â€”â€”â€“ç­”æ¡ˆâ€”â€”â€”â€”â€”â€”â€”<br>ç­”æ¡ˆï¼š2 4 1 1 2 3 3<br>è§£æï¼šè€ƒç‚¹ 1. newç»‘å®š 2.éšæ€§ç»‘å®š 3. é»˜è®¤ç»‘å®š 4.å˜é‡æ±¡æŸ“</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo() &#123;</span><br><span class="line">    getName = function () &#123; console.log (1); &#125;; </span><br><span class="line">            //è¿™é‡Œçš„getName å°†åˆ›å»ºåˆ°å…¨å±€windowä¸Š</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line">foo.getName = function () &#123; console.log(2);&#125;;   </span><br><span class="line">        //è¿™ä¸ªgetNameå’Œä¸Šé¢çš„ä¸åŒï¼Œæ˜¯ç›´æ¥æ·»åŠ åˆ°fooä¸Šçš„</span><br><span class="line">foo.prototype.getName = function () &#123; console.log(3);&#125;; </span><br><span class="line">        // è¿™ä¸ªgetNameç›´æ¥æ·»åŠ åˆ°fooçš„åŸå‹ä¸Šï¼Œåœ¨ç”¨newåˆ›å»ºæ–°å¯¹è±¡æ—¶å°†ç›´æ¥æ·»åŠ åˆ°æ–°å¯¹è±¡ä¸Š </span><br><span class="line">var getName = function () &#123; console.log(4);&#125;; </span><br><span class="line">        // å’Œfooå‡½æ•°é‡Œçš„getNameä¸€æ ·, å°†åˆ›å»ºåˆ°å…¨å±€windowä¸Š</span><br><span class="line">function getName () &#123; console.log(5);&#125;    </span><br><span class="line">        // åŒä¸Šï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå› ä¸ºå‡½æ•°å£°æ˜çš„æå‡ä¼˜å…ˆçº§æœ€é«˜ï¼Œæ‰€ä»¥ä¸Šé¢çš„å‡½æ•°è¡¨è¾¾å¼å°†æ°¸è¿œæ›¿æ¢</span><br><span class="line">        // è¿™ä¸ªåŒåå‡½æ•°ï¼Œé™¤éåœ¨å‡½æ•°è¡¨è¾¾å¼èµ‹å€¼å‰å»è°ƒç”¨getName()ï¼Œä½†æ˜¯åœ¨æœ¬é¢˜ä¸­ï¼Œå‡½æ•°è°ƒç”¨éƒ½åœ¨å‡½æ•°è¡¨è¾¾å¼</span><br><span class="line">        // ä¹‹åï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°å¯ä»¥å¿½ç•¥äº†</span><br><span class="line">        </span><br><span class="line">        // é€šè¿‡ä¸Šé¢å¯¹ getNameçš„åˆ†æåŸºæœ¬ä¸Šç­”æ¡ˆå·²ç»å‡ºæ¥äº†</span><br><span class="line"></span><br><span class="line">foo.getName ();                // 2</span><br><span class="line">                               // ä¸‹é¢ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘å°±ä½¿ç”¨è¾“å‡ºå€¼æ¥ç®€ç§°æ¯ä¸ªgetNameå‡½æ•°</span><br><span class="line">                               // è¿™é‡Œæœ‰å°ä¼™ä¼´ç–‘æƒ‘æ˜¯åœ¨ 2 å’Œ 3 ä¹‹é—´ï¼Œè§‰å¾—åº”è¯¥æ˜¯3 , ä½†å…¶å®ç›´æ¥è®¾ç½®</span><br><span class="line">                               // foo.prototypeä¸Šçš„å±æ€§ï¼Œå¯¹å½“å‰è¿™ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯æ²¡æœ‰å½±å“çš„,å¦‚æœè¦ä½¿</span><br><span class="line">                               // ç”¨çš„è¯ï¼Œå¯ä»¥foo.prototype.getName() è¿™æ ·è°ƒç”¨ ï¼Œè¿™é‡Œéœ€è¦çŸ¥é“çš„æ˜¯</span><br><span class="line">                               // 3 å¹¶ä¸ä¼šè¦†ç›– 2ï¼Œä¸¤è€…ä¸å†²çª ( å½“ä½ ä½¿ç”¨new åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè¿™é‡Œçš„</span><br><span class="line">                               // Prototype å°†è‡ªåŠ¨ç»‘å®šåˆ°æ–°å¯¹è±¡ä¸Šï¼Œå³ç”¨new æ„é€ è°ƒç”¨çš„ç¬¬äºŒä¸ªä½œç”¨)</span><br><span class="line">                               </span><br><span class="line">getName ();                    // 4 </span><br><span class="line">                               // è¿™é‡Œæ¶‰åŠåˆ°å‡½æ•°æå‡çš„é—®é¢˜ï¼Œä¸çŸ¥é“çš„å°ä¼™ä¼´åªéœ€è¦çŸ¥é“ 5 ä¼šè¢« 4 è¦†ç›–ï¼Œ</span><br><span class="line">                               // è™½ç„¶ 5 åœ¨ 4 çš„ä¸‹é¢ï¼Œå…¶å® js å¹¶ä¸æ˜¯å®Œå…¨çš„è‡ªä¸Šè€Œä¸‹ï¼Œæƒ³è¦æ·±å…¥äº†è§£çš„</span><br><span class="line">                               // å°ä¼™ä¼´å¯ä»¥çœ‹æ–‡ç« æœ€åçš„é“¾æ¥</span><br><span class="line">                               </span><br><span class="line">foo().getName ();              // 1 </span><br><span class="line">                               // è¿™é‡Œçš„fooå‡½æ•°æ‰§è¡Œå®Œæˆäº†ä¸¤ä»¶äº‹, 1. å°†window.getNameè®¾ç½®ä¸º1,</span><br><span class="line">                               // 2. è¿”å›window , æ•…ç­‰ä»·äº window.getName(); è¾“å‡º 1</span><br><span class="line">getName ();                    // 1</span><br><span class="line">                               // åˆšåˆšä¸Šé¢çš„å‡½æ•°åˆšæŠŠwindow.getNameè®¾ç½®ä¸º1,æ•…åŒä¸Š è¾“å‡º 1</span><br><span class="line">                               </span><br><span class="line">new foo.getName ();            // 2</span><br><span class="line">                               // new å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œæ„é€ è°ƒç”¨ , å³ foo.getName ,æ„é€ è°ƒç”¨ä¹Ÿæ˜¯è°ƒç”¨å•Š</span><br><span class="line">                               // è¯¥æ‰§è¡Œè¿˜æ˜¯æ‰§è¡Œï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¾“å‡º 2 (è™½ç„¶è¿™é‡Œæ²¡æœ‰æ¥æ”¶æ–°</span><br><span class="line">                               // åˆ›å»ºçš„å¯¹è±¡ä½†æ˜¯æˆ‘ä»¬å¯ä»¥çŒœåˆ°ï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°åä¸º foo.getName çš„å¯¹è±¡</span><br><span class="line">                               // ä¸”__proto__å±æ€§é‡Œæœ‰ä¸€ä¸ªgetNameå‡½æ•°ï¼Œæ˜¯ä¸Šé¢è®¾ç½®çš„ 3 å‡½æ•°)</span><br><span class="line">                               </span><br><span class="line">new foo().getName ();          // 3</span><br><span class="line">                               // è¿™é‡Œç‰¹åˆ«çš„åœ°æ–¹å°±æ¥äº†,new æ˜¯å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œæ„é€ è°ƒç”¨,å®ƒç›´æ¥æ‰¾åˆ°äº†ç¦»å®ƒ</span><br><span class="line">                               // æœ€è¿‘çš„å‡½æ•°,foo(),å¹¶è¿”å›äº†åº”è¯¥æ–°å¯¹è±¡,ç­‰ä»·äº var obj = new foo();</span><br><span class="line">                               // obj.getName(); è¿™æ ·å°±å¾ˆæ¸…æ™°äº†,è¾“å‡ºçš„æ˜¯ä¹‹å‰ç»‘å®šåˆ°prototypeä¸Šçš„</span><br><span class="line">                               // é‚£ä¸ªgetName  3 ,å› ä¸ºä½¿ç”¨newåä¼šå°†å‡½æ•°çš„prototypeç»§æ‰¿ç»™ æ–°å¯¹è±¡</span><br><span class="line">                               </span><br><span class="line">new new foo().getName ();      // 3</span><br><span class="line">                               // å“ˆå“ˆï¼Œè¿™ä¸ªçœ‹ä¸Šå»å¾ˆå“äººï¼Œè®©æˆ‘ä»¬æ¥åˆ†è§£ä¸€ä¸‹ï¼š</span><br><span class="line">                               // var obj = new foo();</span><br><span class="line">                               // var obj1 = new obj.getName();</span><br><span class="line">                               // å¥½äº†ï¼Œä»”ç»†çœ‹çœ‹, è¿™ä¸å°±æ˜¯ä¸Šä¸¤é¢˜çš„åˆä½“å—,obj æœ‰getName 3, å³è¾“å‡º3</span><br><span class="line">                               // obj æ˜¯ä¸€ä¸ªå‡½æ•°åä¸º fooçš„å¯¹è±¡,obj1æ˜¯ä¸€ä¸ªå‡½æ•°åä¸ºobj.getNameçš„å¯¹è±¡</span><br></pre></td></tr></table></figure>

<h2 id="5-ç®­å¤´å‡½æ•°çš„thisç»‘å®š-2017-9-18æ›´æ–°"><a href="#5-ç®­å¤´å‡½æ•°çš„thisç»‘å®š-2017-9-18æ›´æ–°" class="headerlink" title="5 . ç®­å¤´å‡½æ•°çš„thisç»‘å®š (2017.9.18æ›´æ–°)"></a>5 . ç®­å¤´å‡½æ•°çš„thisç»‘å®š <em>(2017.9.18æ›´æ–°)</em></h2><p>ç®­å¤´å‡½æ•°ï¼Œä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œä¸ä½¿ç”¨<code>function</code>å…³é”®å­—ï¼Œè€Œæ˜¯ä½¿ç”¨<code>=&gt;</code>ï¼Œå­¦å <code>èƒ–ç®­å¤´</code>(2333),å®ƒå’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«ï¼š</p>
<ol>
<li>ç®­å¤´å‡½æ•°ä¸ä½¿ç”¨æˆ‘ä»¬ä¸Šé¢ä»‹ç»çš„å››ç§ç»‘å®šï¼Œè€Œæ˜¯<strong>å®Œå…¨æ ¹æ®å¤–éƒ¨ä½œç”¨åŸŸæ¥å†³å®šthis</strong>ã€‚(å®ƒçš„çˆ¶çº§æ˜¯ä½¿ç”¨æˆ‘ä»¬çš„è§„åˆ™çš„å“¦)</li>
<li>ç®­å¤´å‡½æ•°çš„thisç»‘å®šæ— æ³•è¢«ä¿®æ”¹ (è¿™ä¸ªç‰¹æ€§éå¸¸çˆ½ï¼ˆæ»‘ç¨½ï¼‰)</li>
</ol>
<p>å…ˆçœ‹ä¸ªä»£ç å·©å›ºä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function foo()&#123;</span><br><span class="line">    return ()=&gt;&#123;</span><br><span class="line">        console.log(this.a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo.a = 10;</span><br><span class="line"></span><br><span class="line">// 1. ç®­å¤´å‡½æ•°å…³è”çˆ¶çº§ä½œç”¨åŸŸthis</span><br><span class="line"></span><br><span class="line">var bar = foo();            // fooé»˜è®¤ç»‘å®š</span><br><span class="line">bar();                      // undefined å“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯æœ‰å°ä¼™ä¼´æƒ³å½“ç„¶äº†</span><br><span class="line"></span><br><span class="line">var baz = foo.call(foo);    // foo æ˜¾æ€§ç»‘å®š</span><br><span class="line">baz();                      // 10 </span><br><span class="line"></span><br><span class="line">// 2. ç®­å¤´å‡½æ•°thisä¸å¯ä¿®æ”¹</span><br><span class="line">//è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„å·²ç»ç»‘å®šäº†foo çš„ baz</span><br><span class="line">var obj = &#123;</span><br><span class="line">    a : 999</span><br><span class="line">&#125;</span><br><span class="line">baz.call(obj);              // 10</span><br></pre></td></tr></table></figure>

<p>æ¥æ¥æ¥ï¼Œå®æˆ˜ä¸€ä¸‹ï¼Œè¿˜è®°å¾—æˆ‘ä»¬ä¹‹å‰ç¬¬ä¸€ä¸ªä¾‹å­å—ï¼Œå°†å®ƒæ”¹æˆç®­å¤´å‡½æ•°çš„å½¢å¼(å¯ä»¥å½»åº•è§£å†³æ¶å¿ƒçš„thisç»‘å®šé—®é¢˜)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var people = &#123;</span><br><span class="line">    Name: &quot;æµ·æ´‹é¥¼å¹²&quot;,</span><br><span class="line">    getName : function()&#123;</span><br><span class="line">        console.log(this.Name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var bar = people.getName;</span><br><span class="line"></span><br><span class="line">bar();    // undefined</span><br></pre></td></tr></table></figure>

<hr>
<p>====================ä¿®æ”¹å====================</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">var people = &#123;</span><br><span class="line">    Name: &quot;æµ·æ´‹é¥¼å¹²&quot;,</span><br><span class="line">    getName : function()&#123;</span><br><span class="line">        return ()=&gt;&#123;</span><br><span class="line">            console.log(this.Name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var bar = people.getName(); //è·å¾—ä¸€ä¸ªæ°¸è¿œæŒ‡å‘peopleçš„å‡½æ•°ï¼Œä¸ç”¨æƒ³thisäº†,å²‚ä¸æ˜¯ç¾æ»‹æ»‹ï¼Ÿ</span><br><span class="line"></span><br><span class="line">bar();    // æµ·æ´‹é¥¼å¹²</span><br></pre></td></tr></table></figure>

<p>å¯èƒ½ä¼šæœ‰äººä¸è§£ä¸ºä»€ä¹ˆåœ¨ç®­å¤´å‡½æ•°å¤–é¢å†å¥—ä¸€å±‚ï¼Œç›´æ¥å†™ä¸å°±è¡Œäº†å—ï¼Œæè¿™ä¹ˆéº»çƒ¦å¹²å˜›ï¼Œå…¶å®è¿™<strong>ä¹Ÿæ˜¯ç®­å¤´å‡½æ•°å¾ˆå¤šäººç”¨ä¸å¥½çš„åœ°æ–¹</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj= &#123;</span><br><span class="line">    that : <span class="keyword">this</span>,</span><br><span class="line">    bar : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    baz : <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.that);  <span class="comment">// window</span></span><br><span class="line">obj.bar()();            <span class="comment">// obj</span></span><br><span class="line">obj.baz();              <span class="comment">// window</span></span><br></pre></td></tr></table></figure>

<ol>
<li>æˆ‘ä»¬å…ˆè¦ææ¸…æ¥šä¸€ç‚¹ï¼Œobjçš„å½“å‰ä½œç”¨åŸŸæ˜¯window,å¦‚ obj.that === windowã€‚</li>
<li>å¦‚æœä¸ç”¨functionï¼ˆfunctionæœ‰è‡ªå·±çš„å‡½æ•°ä½œç”¨åŸŸï¼‰å°†å…¶åŒ…è£¹èµ·æ¥ï¼Œé‚£ä¹ˆé»˜è®¤ç»‘å®šçš„çˆ¶çº§ä½œç”¨åŸŸå°±æ˜¯windowã€‚</li>
<li>ç”¨functionåŒ…è£¹çš„ç›®çš„å°±æ˜¯å°†ç®­å¤´å‡½æ•°ç»‘å®šåˆ°å½“å‰çš„å¯¹è±¡ä¸Šã€‚å‡½æ•°çš„ä½œç”¨åŸŸæ˜¯å½“å‰è¿™ä¸ªå¯¹è±¡ï¼Œç„¶åç®­å¤´å‡½æ•°ä¼šè‡ªåŠ¨ç»‘å®šå‡½æ•°æ‰€åœ¨ä½œç”¨åŸŸçš„thisï¼Œå³objã€‚</li>
</ol>
<p><strong>æˆ‘æ€»ç»“</strong>ï¼šæ³¨æ„ï¼objæ­¤æ—¶çš„thisæŒ‡å‘çš„æ˜¯çˆ¶çº§ä½œç”¨åŸŸã€‚</p>
<p>å¯¹äºç¬¬ä¸‰ç‚¹ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªèƒ½ç”¨functionåŒ…è£¹ï¼Œä¸èƒ½ç”¨ç®­å¤´å‡½æ•°åŒ…è£¹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">    x:<span class="number">1</span>,</span><br><span class="line">    fn:<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="function"><span class="params">()</span>=&gt;</span> &#123;<span class="keyword">this</span>.x+=<span class="number">1</span>;<span class="built_in">console</span>.log(<span class="keyword">this</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">1</span></span><br><span class="line">a.fn()() <span class="comment">//window</span></span><br><span class="line"><span class="built_in">console</span>.log(a.x,x) <span class="comment">//1,1</span></span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šï¼Œç®­å¤´åŒ…è£¹ä¸ä¼šæ”¹å˜ä½œç”¨åŸŸï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š<strong>ç®­å¤´å‡½æ•°æœ¬èº«å°±æ²¡æœ‰ä½œç”¨åŸŸï¼</strong>æ‰€ä»¥çš„thiséœ€è¦ä»–çˆ¸çˆ¸ç»™ä»–æŒ‡å®šã€‚</p>
<h2 id="6-letå’Œconstä¸­çš„thisï¼ˆæˆ‘çš„ï¼‰"><a href="#6-letå’Œconstä¸­çš„thisï¼ˆæˆ‘çš„ï¼‰" class="headerlink" title="6.letå’Œconstä¸­çš„thisï¼ˆæˆ‘çš„ï¼‰"></a>6.letå’Œconstä¸­çš„thisï¼ˆæˆ‘çš„ï¼‰</h2><p>çœ‹ä¸‹é¢ä¸¤æ®µä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">    x:<span class="number">1</span>,</span><br><span class="line">    fn:<span class="function"><span class="params">()</span>=&gt;</span><span class="keyword">this</span>.x+=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> x = <span class="number">1</span> <span class="comment">//let x = 1ç»“æœä¹Ÿä¸€æ ·</span></span><br><span class="line">a.fn()</span><br><span class="line"><span class="built_in">console</span>.log(a.x,x) 	<span class="comment">//1,1</span></span><br></pre></td></tr></table></figure>

<p>å¦‚åŒç¬¬5èŠ‚è¯´çš„ï¼Œaå¯¹è±¡ä¸­çš„thisæŒ‡å‘çš„æ˜¯<strong>çˆ¶çº§</strong>ä½œç”¨åŸŸï¼Œå³this =&gt; windowã€‚æ‰€ä»¥ç¬¬ä¸€æ®µä¸èƒ½æ”¹å˜aä¸­çš„xå€¼ï¼</p>
<p>åœ¨es5ä¸­å…¨å±€ç”¨varã€ functionå£°æ˜è¿˜æ˜¯è·Ÿå…¨å±€æŒ‚é’©çš„ï¼Œè€Œä»es6å¼€å§‹ï¼Œlet const classç­‰éƒ½ä¸æ˜¯æŒ‚åœ¨windowä¸Šäº†ã€‚æ‰€æœ‰é¡¶å±‚ä¸­çš„xä¹Ÿæ— æ³•ä¿®æ”¹ï¼Œå› ä¸ºå‡½æ•°ä¸­çš„thisæŒ‡å‘çš„æ˜¯window<strong>è€Œletã€constçš„xä¸æ˜¯æŒ‚åœ¨windowä¸Šï¼ï¼</strong></p>
<p>æ”¹ç”¨varæ—¶ï¼Œå°±èƒ½æ›´æ”¹äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = &#123;</span><br><span class="line">    x:<span class="number">1</span>,</span><br><span class="line">    fn:<span class="function"><span class="params">()</span>=&gt;</span><span class="keyword">this</span>.x+=<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span></span><br><span class="line">a.fn()</span><br><span class="line"><span class="built_in">console</span>.log(a.x,x)	<span class="comment">//1,2</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>è®°å½•æˆ‘çš„ç”Ÿæ´»</title>
    <url>/2019/%E8%AE%B0%E5%BD%95%E6%88%91%E7%9A%84%E7%94%9F%E6%B4%BB/</url>
    <content><![CDATA[<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="è¯·è¾“å…¥å¯†ç è®¿é—®å“¦." />
    <label for="pass">è¯·è¾“å…¥å¯†ç è®¿é—®å“¦.</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
U2FsdGVkX19leTOCyX2+pYQuhmHysaxkDHZBiXGWkslPzZ28MnwnVYuIFMb2HI327zTv4qNy0peJ3sx16vuYJ1NZJRjjuYH06M5WiFWL/1erG0zbcwa5UXhwI+uVFLLXe5Rtjf+MnaqNS+N+MBIQvbRu8uwRlLFRNMaLmoQZGHRwaDfZ3fOXxAcJqiiHZE+Upd3ehaYa5ZdeDM8g3z60mKCG+e9jJrAsFTHlMzI0FPnHvfQHOG/6fPSVfNStpee86EWqTXnYyaeT0UV63mCTwz6NPVUqxZokg2BKAfSnAyB1FaUEiYtIJS171zrl6x98qttkm6c66crYSwmnsW0Aqc1CC97s4568k534pp0+knuM6uoc4skRuVgnC/ZHf7B7hA7TYM8fF7zCdtw49kB9aMq0eHGaXn7cxUH+/pjWFXIERladWUtBNbQBis+jE35afoKX0cy4DaLW+emzD67oQr5cr92oACxov/UyOJRsNn7GSZibFng3ylkSvmPDxJf7+kfPc/PyQjSlQUSBCTGTlsIsa1dq/bBDYY1O4Uiv5ySHLkYfMaS2P0KOtWYmopthBR4WAccHhDPLXV2r4ii1Yy6KaC4dXACDzSUL86auVj6/FG8Euvf4F9d5T1D+Ed/8/gAhxRHajwy4f6TeFNpZiehxQVLhEWdOdj/UibTJ//YR5oIVeiDij8ekXN2Li27FkASedKq0UWp9zC5CyZaBuvbMn26llz+Gyrn+mwkUzBLGtu2Xw/3juwx86pMo20eLSur1EhO4LpdngYTaPGE9PHvh9McGsDIpZZ4PdcpOiRks9MBckdIs2wePPbV9B2iTpysKahNFMQrNLBwq5IuVw4bbvEMjXfCNDbsHQJQc+eMN1ric8kliM4xhNKG6Vv5HhTTi/8Y+js+allaBnTJ55Ck0o+mYMCMGM+AutkATXzU5YpfmZze2OKvN4LC+A8gXLYG+jMmIEty55K1T+yMo20mDWyrw/fLY6MHs482n3BTRk28HblLZ3eOUplzbEj9aOahzPKhK2gzoug0xP71skxVoKWifvVw0OxaAS57V3emknoV5iwC4jnfZI007DsvZn9fP8y9fNbDbwDuovNKhvMU5DQQZnsSPo0bw3PTA+1h3WjFdDWBQHRfPtoci30SSS2lkzEy653lytyJYL0iz+FtYdpBT7i2WpuS3MvumYXlxBUkldp9dH8+ndCuYWF2S/dmA75Df/ojeqr6BeOmvn773DW8BI3IPhvqwrI9FOmFyofvc/ql5GhowGs0hnVVtGvorka8B5IrL1iWBDoz71Iw3mcxxNjx0J1qJFlwseaGuucgywExgJ3U1evoh16w6YezXBqEDbZ4zByIKzRuj1L84H15b5cl6ZIAbzYTX35PvHzRfUxAejo6ozcozVUUWjCBgRmRILR2+pCipuqxWLZQbOnP9teBj2556djoC8LNNycrrGo/9x/EhhaXFaCqMU3faMRFsXzSIbN3rVNURR3qB5JZ3OcyydE2JKfaTndI3no/SKaPlDv7GiSLBjIURpi52H1bGY8IQpQkvt4AneADcx3fMNy70pyBafbsg9sjSMxZ6dKYB92OUXSAgRIHiVYNS1ejtLV9vqrXE5gEL82lOIEzpmcQ1lwRoLrbLNLYs4x6WDWOsOj4Rou8LOUDXoBSDYmi6SuPBDEqaMw1Fp6E3qRHtltgx/W3MytNB0imhRNuRVEMSqSIZaOj9UtJZXczzNyj2oOOead5/FHSJiKI0jiLUzuZY/vvreUB8z1kvHbhsJ/zVkL/+fjKq4mf6gcuBJt3wW3g8X+iTU5EL5IODwm4mHijyap1K+OTbpGD9406MAnRV/a8KJQS3vtPu6wGXYacLVBp9OTKJgPK1wuDyg4DgrD9Z2hc629nQFaG3HYbjkd2JvZ9MHqsP40UZAxUXUHk51cPTztk2enQA3XKx7YL8+OuXBTXghH3Q6nT0u0xuPi9FBNFpbbliw+PwDxM5bDMaD2KFDIdncYHjDA2pPegX8zePXyJXdZtSnKGSohkuh2doK8RYrwkthuDaxjdsLPGOgJ8zR7kDha2qj0YfETNSnqagJuCqvbUyIOKqwkwzpvp+UjL2G8Aha6e52OyfIZHwFW35njvR1Jhc5zSMu11nAjcG8Ivoy9WnbRr/EW/4YZHC9Q5yeoheW/d3Ppg+3JqK3IXGvg0G0okbJsXrCuS/28HMXJi1W15x4fYHsTViUImpidXJS1FuiZtm1/3UhJm+KkZaurt4t44g6KUeCOU7hRS4UrG7/xZKlNF6u6VD7dUhrjIayn/hjYXEG9qOIuXGBaSDCEJ4w9oiK7UpYBhZRZslawIbXIHHCkyb+r2PGy9dK0x26XsXel9Q1CKms3cq86Yy8cxnWSnI0k9/nC6CO96Vkli/QrqIO4mPh3/e5BMOSo133OsGVoOVAjcB271Da0BTbzXeO6gAP1CR6Q+HDCLkXs6s5L3Pn/+Bc+nGYPAqwOjd1hH+3QOkSv6PbOGZSk3pgBU6bBTT1qWuCXAPXOWjZGvmhlDRzutJ7qw8n5PI7WicWRkanKOLqz4h9wsbQVMYrIO6xYTWAPwRsEN47zBCEQl2qW5So84amB8Hcv3B4tBdc5PO/KCHRY+Py0EOzgA+Re1UtyVYZva9igb1hoBttFldbSvjGV3xz3PUFW80Yvmrb6mvhxaxxwldPl/Ws4ktpjjslLX5GaQdePAQHt9wFVZPyywiBwSZ7+fHbhJnrFi3qCtNCngM98zSEGgubdB7Fd5hJgfGqhhrRg+IZ2m2Pn59W42YeshlLetiL/boyu4FxH8/upH91DT1wLgcjrFeQDrgwK44UBspFG/HBzgdEEX5WaNrxImQJ6YiwdB9NBQpm6ybYG30OSgdTZWLxgnoQdhc+YNgwoTAPTCiPvOIjGfLNwxelPXWeNX2SzGffa3oByoSkrwvxbgVUVKEpF/mUKvQC+hHyPLccSb9SNBICaO+AEe1cJA12J58w+lLHdSXn7MlEfq6eCOmwDRGcji4shXp9dz9NVqQ+eE6tEGhFkpadokJczLCXJfoEylXtwS3PrbJrRuLCGluBqlai85q89Kvv8Yx2XvNe4UxCAvDfUfibq8f+oNSn5jQ0v9gIAef+F37Jl0EMW5cAklDr5jEE4S5SZgC26UEsoo42YDK3my4tUHz6/zurJT3ZT/DCcypYiu5mwTNkpXRpBNg9rM7MgVc+C6YB4F8g9rO/lgLupd1NWzqS8wofos01AY5kN80rbaITvrFgfmNXCsyghSoaWNJuCl/Cw==
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>æˆ‘çš„ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<a id="more"></a>

<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
